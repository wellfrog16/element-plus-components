import{m as mt,q as he,g as M,B as O,f as I,H as Q,O as Ze,a1 as Ee,ag as Xe,o as z,c as de,P as se,X as T,u as F,G as Qe,A as le,I as Oe,K as Ae,a2 as gt,$ as vt,d as A,F as ht,a0 as et,ad as yt,c2 as bt,w as j,h as Ve,b as ee,t as Re,Y as Ne,a3 as wt,a4 as De,a as W,bO as Ft,J as _t,V as xt,bV as qt,aD as ue,au as Me,_ as fe,aE as kt,D as Et,e as Ot}from"./app.a3d32ab8.js";import{aV as At,d as Ce,K as tt,B as ye,e as nt,f as rt,j as Se,n as Vt,b3 as je,_ as at,b4 as be,J as Ct,k as St,F as We,b5 as ge,w as jt,o as Pt,E as re,W as $t,D as Bt}from"./document.e6cb366c.js";import{H as Rt}from"./index.0534ccdb.js";import{H as Ie}from"./index.58d7b5cd.js";import{H as Nt}from"./index.18a9ffa8.js";import{v as Dt}from"./directive.7c8c8681.js";import{b as Mt}from"./_baseClone.19528565.js";import{E as Wt}from"./index.b7a0dde8.js";import"./useChoice.a3cc1d1a.js";import"./index.00d0a9cb.js";import"./index.f2789887.js";import"./index.24ede545.js";import"./index.af896b27.js";import"./index.78c9f824.js";import"./index.7c411af2.js";import"./index.10b47ecb.js";import"./use-global-config.ba6948b7.js";import"./index.42a1bc38.js";import"./aria.ff564609.js";import"./validator.76855ab4.js";import"./scroll.8f620859.js";import"./use-dialog.34405062.js";import"./index.df5f81fa.js";function we(){if(!arguments.length)return[];var a=arguments[0];return At(a)?a:[a]}var It=4;function Le(a){return Mt(a,It)}const Lt=Ce({size:{type:String,values:tt},disabled:Boolean}),Tt=Ce({...Lt,model:Object,rules:{type:ye(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),Ut={validate:(a,e,t)=>(mt(a)||he(a))&&nt(e)&&he(t)};function zt(){const a=M([]),e=O(()=>{if(!a.value.length)return"0";const s=Math.max(...a.value);return s?`${s}px`:""});function t(s){const i=a.value.indexOf(s);return i===-1&&e.value,i}function r(s,i){if(s&&i){const o=t(i);a.value.splice(o,1,s)}else s&&a.value.push(s)}function n(s){const i=t(s);i>-1&&a.value.splice(i,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:n}}const ae=(a,e)=>{const t=we(e);return t.length>0?a.filter(r=>r.prop&&t.includes(r.prop)):a},Ht="ElForm",Kt=I({name:Ht}),Gt=I({...Kt,props:Tt,emits:Ut,setup(a,{expose:e,emit:t}){const r=a,n=[],s=rt(),i=Se("form"),o=O(()=>{const{labelPosition:h,inline:l}=r;return[i.b(),i.m(s.value||"default"),{[i.m(`label-${h}`)]:h,[i.m("inline")]:l}]}),u=h=>{n.push(h)},m=h=>{h.prop&&n.splice(n.indexOf(h),1)},d=(h=[])=>{!r.model||ae(n,h).forEach(l=>l.resetField())},p=(h=[])=>{ae(n,h).forEach(l=>l.clearValidate())},v=O(()=>!!r.model),E=h=>{if(n.length===0)return[];const l=ae(n,h);return l.length?l:[]},k=async h=>b(void 0,h),c=async(h=[])=>{if(!v.value)return!1;const l=E(h);if(l.length===0)return!0;let w={};for(const x of l)try{await x.validate("")}catch(q){w={...w,...q}}return Object.keys(w).length===0?!0:Promise.reject(w)},b=async(h=[],l)=>{const w=!Qe(l);try{const x=await c(h);return x===!0&&(l==null||l(x)),x}catch(x){if(x instanceof Error)throw x;const q=x;return r.scrollToError&&f(Object.keys(q)[0]),l==null||l(!1,q),w&&Promise.reject(q)}},f=h=>{var l;const w=ae(n,h)[0];w&&((l=w.$el)==null||l.scrollIntoView(r.scrollIntoViewOptions))};return Q(()=>r.rules,()=>{r.validateOnRuleChange&&k().catch(h=>Vt())},{deep:!0}),Ze(je,Ee({...Xe(r),emit:t,resetFields:d,clearValidate:p,validateField:b,addField:u,removeField:m,...zt()})),e({validate:k,validateField:b,resetFields:d,clearValidate:p,scrollToField:f}),(h,l)=>(z(),de("form",{class:T(F(o))},[se(h.$slots,"default")],2))}});var Jt=at(Gt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form.vue"]]);function U(){return U=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},U.apply(this,arguments)}function Yt(a,e){a.prototype=Object.create(e.prototype),a.prototype.constructor=a,te(a,e)}function Fe(a){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fe(a)}function te(a,e){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},te(a,e)}function Zt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oe(a,e,t){return Zt()?oe=Reflect.construct.bind():oe=function(n,s,i){var o=[null];o.push.apply(o,s);var u=Function.bind.apply(n,o),m=new u;return i&&te(m,i.prototype),m},oe.apply(null,arguments)}function Xt(a){return Function.toString.call(a).indexOf("[native code]")!==-1}function _e(a){var e=typeof Map=="function"?new Map:void 0;return _e=function(r){if(r===null||!Xt(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,n)}function n(){return oe(r,arguments,Fe(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),te(n,r)},_e(a)}var Qt=/%[sdj%]/g,en=function(){};typeof process<"u"&&process.env;function xe(a){if(!a||!a.length)return null;var e={};return a.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function $(a){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var n=0,s=t.length;if(typeof a=="function")return a.apply(null,t);if(typeof a=="string"){var i=a.replace(Qt,function(o){if(o==="%%")return"%";if(n>=s)return o;switch(o){case"%s":return String(t[n++]);case"%d":return Number(t[n++]);case"%j":try{return JSON.stringify(t[n++])}catch{return"[Circular]"}break;default:return o}});return i}return a}function tn(a){return a==="string"||a==="url"||a==="hex"||a==="email"||a==="date"||a==="pattern"}function V(a,e){return!!(a==null||e==="array"&&Array.isArray(a)&&!a.length||tn(e)&&typeof a=="string"&&!a)}function nn(a,e,t){var r=[],n=0,s=a.length;function i(o){r.push.apply(r,o||[]),n++,n===s&&t(r)}a.forEach(function(o){e(o,i)})}function Te(a,e,t){var r=0,n=a.length;function s(i){if(i&&i.length){t(i);return}var o=r;r=r+1,o<n?e(a[o],s):t([])}s([])}function rn(a){var e=[];return Object.keys(a).forEach(function(t){e.push.apply(e,a[t]||[])}),e}var Ue=function(a){Yt(e,a);function e(t,r){var n;return n=a.call(this,"Async Validation Error")||this,n.errors=t,n.fields=r,n}return e}(_e(Error));function an(a,e,t,r,n){if(e.first){var s=new Promise(function(v,E){var k=function(f){return r(f),f.length?E(new Ue(f,xe(f))):v(n)},c=rn(a);Te(c,t,k)});return s.catch(function(v){return v}),s}var i=e.firstFields===!0?Object.keys(a):e.firstFields||[],o=Object.keys(a),u=o.length,m=0,d=[],p=new Promise(function(v,E){var k=function(b){if(d.push.apply(d,b),m++,m===u)return r(d),d.length?E(new Ue(d,xe(d))):v(n)};o.length||(r(d),v(n)),o.forEach(function(c){var b=a[c];i.indexOf(c)!==-1?Te(b,t,k):nn(b,t,k)})});return p.catch(function(v){return v}),p}function sn(a){return!!(a&&a.message!==void 0)}function on(a,e){for(var t=a,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function ze(a,e){return function(t){var r;return a.fullFields?r=on(e,a.fullFields):r=e[t.field||a.fullField],sn(t)?(t.field=t.field||a.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||a.fullField}}}function He(a,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof a[t]=="object"?a[t]=U({},a[t],r):a[t]=r}}return a}var it=function(e,t,r,n,s,i){e.required&&(!r.hasOwnProperty(e.field)||V(t,i||e.type))&&n.push($(s.messages.required,e.fullField))},ln=function(e,t,r,n,s){(/^\s+$/.test(t)||t==="")&&n.push($(s.messages.whitespace,e.fullField))},ie,un=function(){if(ie)return ie;var a="[a-fA-F\\d:]",e=function(w){return w&&w.includeBoundaries?"(?:(?<=\\s|^)(?="+a+")|(?<="+a+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",n=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+t+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+t+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+t+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+t+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+t+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+t+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+t+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp("(?:^"+t+"$)|(?:^"+n+"$)"),i=new RegExp("^"+t+"$"),o=new RegExp("^"+n+"$"),u=function(w){return w&&w.exact?s:new RegExp("(?:"+e(w)+t+e(w)+")|(?:"+e(w)+n+e(w)+")","g")};u.v4=function(l){return l&&l.exact?i:new RegExp(""+e(l)+t+e(l),"g")},u.v6=function(l){return l&&l.exact?o:new RegExp(""+e(l)+n+e(l),"g")};var m="(?:(?:[a-z]+:)?//)",d="(?:\\S+(?::\\S*)?@)?",p=u.v4().source,v=u.v6().source,E="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",k="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",c="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",b="(?::\\d{2,5})?",f='(?:[/?#][^\\s"]*)?',h="(?:"+m+"|www\\.)"+d+"(?:localhost|"+p+"|"+v+"|"+E+k+c+")"+b+f;return ie=new RegExp("(?:^"+h+"$)","i"),ie},Ke={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Z={integer:function(e){return Z.number(e)&&parseInt(e,10)===e},float:function(e){return Z.number(e)&&!Z.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Z.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Ke.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(un())},hex:function(e){return typeof e=="string"&&!!e.match(Ke.hex)}},dn=function(e,t,r,n,s){if(e.required&&t===void 0){it(e,t,r,n,s);return}var i=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;i.indexOf(o)>-1?Z[o](t)||n.push($(s.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&n.push($(s.messages.types[o],e.fullField,e.type))},fn=function(e,t,r,n,s){var i=typeof e.len=="number",o=typeof e.min=="number",u=typeof e.max=="number",m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=t,p=null,v=typeof t=="number",E=typeof t=="string",k=Array.isArray(t);if(v?p="number":E?p="string":k&&(p="array"),!p)return!1;k&&(d=t.length),E&&(d=t.replace(m,"_").length),i?d!==e.len&&n.push($(s.messages[p].len,e.fullField,e.len)):o&&!u&&d<e.min?n.push($(s.messages[p].min,e.fullField,e.min)):u&&!o&&d>e.max?n.push($(s.messages[p].max,e.fullField,e.max)):o&&u&&(d<e.min||d>e.max)&&n.push($(s.messages[p].range,e.fullField,e.min,e.max))},J="enum",cn=function(e,t,r,n,s){e[J]=Array.isArray(e[J])?e[J]:[],e[J].indexOf(t)===-1&&n.push($(s.messages[J],e.fullField,e[J].join(", ")))},pn=function(e,t,r,n,s){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||n.push($(s.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var i=new RegExp(e.pattern);i.test(t)||n.push($(s.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},y={required:it,whitespace:ln,type:dn,range:fn,enum:cn,pattern:pn},mn=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t,"string")&&!e.required)return r();y.required(e,t,n,i,s,"string"),V(t,"string")||(y.type(e,t,n,i,s),y.range(e,t,n,i,s),y.pattern(e,t,n,i,s),e.whitespace===!0&&y.whitespace(e,t,n,i,s))}r(i)},gn=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t)&&!e.required)return r();y.required(e,t,n,i,s),t!==void 0&&y.type(e,t,n,i,s)}r(i)},vn=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(t===""&&(t=void 0),V(t)&&!e.required)return r();y.required(e,t,n,i,s),t!==void 0&&(y.type(e,t,n,i,s),y.range(e,t,n,i,s))}r(i)},hn=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t)&&!e.required)return r();y.required(e,t,n,i,s),t!==void 0&&y.type(e,t,n,i,s)}r(i)},yn=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t)&&!e.required)return r();y.required(e,t,n,i,s),V(t)||y.type(e,t,n,i,s)}r(i)},bn=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t)&&!e.required)return r();y.required(e,t,n,i,s),t!==void 0&&(y.type(e,t,n,i,s),y.range(e,t,n,i,s))}r(i)},wn=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t)&&!e.required)return r();y.required(e,t,n,i,s),t!==void 0&&(y.type(e,t,n,i,s),y.range(e,t,n,i,s))}r(i)},Fn=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(t==null&&!e.required)return r();y.required(e,t,n,i,s,"array"),t!=null&&(y.type(e,t,n,i,s),y.range(e,t,n,i,s))}r(i)},_n=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t)&&!e.required)return r();y.required(e,t,n,i,s),t!==void 0&&y.type(e,t,n,i,s)}r(i)},xn="enum",qn=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t)&&!e.required)return r();y.required(e,t,n,i,s),t!==void 0&&y[xn](e,t,n,i,s)}r(i)},kn=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t,"string")&&!e.required)return r();y.required(e,t,n,i,s),V(t,"string")||y.pattern(e,t,n,i,s)}r(i)},En=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t,"date")&&!e.required)return r();if(y.required(e,t,n,i,s),!V(t,"date")){var u;t instanceof Date?u=t:u=new Date(t),y.type(e,u,n,i,s),u&&y.range(e,u.getTime(),n,i,s)}}r(i)},On=function(e,t,r,n,s){var i=[],o=Array.isArray(t)?"array":typeof t;y.required(e,t,n,i,s,o),r(i)},ve=function(e,t,r,n,s){var i=e.type,o=[],u=e.required||!e.required&&n.hasOwnProperty(e.field);if(u){if(V(t,i)&&!e.required)return r();y.required(e,t,n,o,s,i),V(t,i)||y.type(e,t,n,o,s)}r(o)},An=function(e,t,r,n,s){var i=[],o=e.required||!e.required&&n.hasOwnProperty(e.field);if(o){if(V(t)&&!e.required)return r();y.required(e,t,n,i,s)}r(i)},X={string:mn,method:gn,number:vn,boolean:hn,regexp:yn,integer:bn,float:wn,array:Fn,object:_n,enum:qn,pattern:kn,date:En,url:ve,hex:ve,email:ve,required:On,any:An};function qe(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var ke=qe(),ne=function(){function a(t){this.rules=null,this._messages=ke,this.define(t)}var e=a.prototype;return e.define=function(r){var n=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(s){var i=r[s];n.rules[s]=Array.isArray(i)?i:[i]})},e.messages=function(r){return r&&(this._messages=He(qe(),r)),this._messages},e.validate=function(r,n,s){var i=this;n===void 0&&(n={}),s===void 0&&(s=function(){});var o=r,u=n,m=s;if(typeof u=="function"&&(m=u,u={}),!this.rules||Object.keys(this.rules).length===0)return m&&m(null,o),Promise.resolve(o);function d(c){var b=[],f={};function h(w){if(Array.isArray(w)){var x;b=(x=b).concat.apply(x,w)}else b.push(w)}for(var l=0;l<c.length;l++)h(c[l]);b.length?(f=xe(b),m(b,f)):m(null,o)}if(u.messages){var p=this.messages();p===ke&&(p=qe()),He(p,u.messages),u.messages=p}else u.messages=this.messages();var v={},E=u.keys||Object.keys(this.rules);E.forEach(function(c){var b=i.rules[c],f=o[c];b.forEach(function(h){var l=h;typeof l.transform=="function"&&(o===r&&(o=U({},o)),f=o[c]=l.transform(f)),typeof l=="function"?l={validator:l}:l=U({},l),l.validator=i.getValidationMethod(l),l.validator&&(l.field=c,l.fullField=l.fullField||c,l.type=i.getType(l),v[c]=v[c]||[],v[c].push({rule:l,value:f,source:o,field:c}))})});var k={};return an(v,u,function(c,b){var f=c.rule,h=(f.type==="object"||f.type==="array")&&(typeof f.fields=="object"||typeof f.defaultField=="object");h=h&&(f.required||!f.required&&c.value),f.field=c.field;function l(q,R){return U({},R,{fullField:f.fullField+"."+q,fullFields:f.fullFields?[].concat(f.fullFields,[q]):[q]})}function w(q){q===void 0&&(q=[]);var R=Array.isArray(q)?q:[q];!u.suppressWarning&&R.length&&a.warning("async-validator:",R),R.length&&f.message!==void 0&&(R=[].concat(f.message));var P=R.map(ze(f,o));if(u.first&&P.length)return k[f.field]=1,b(P);if(!h)b(P);else{if(f.required&&!c.value)return f.message!==void 0?P=[].concat(f.message).map(ze(f,o)):u.error&&(P=[u.error(f,$(u.messages.required,f.field))]),b(P);var L={};f.defaultField&&Object.keys(c.value).map(function(N){L[N]=f.defaultField}),L=U({},L,c.rule.fields);var Y={};Object.keys(L).forEach(function(N){var B=L[N],ce=Array.isArray(B)?B:[B];Y[N]=ce.map(l.bind(null,N))});var H=new a(Y);H.messages(u.messages),c.rule.options&&(c.rule.options.messages=u.messages,c.rule.options.error=u.error),H.validate(c.value,c.rule.options||u,function(N){var B=[];P&&P.length&&B.push.apply(B,P),N&&N.length&&B.push.apply(B,N),b(B.length?B:null)})}}var x;if(f.asyncValidator)x=f.asyncValidator(f,c.value,w,c.source,u);else if(f.validator){try{x=f.validator(f,c.value,w,c.source,u)}catch(q){console.error==null||console.error(q),u.suppressValidatorError||setTimeout(function(){throw q},0),w(q.message)}x===!0?w():x===!1?w(typeof f.message=="function"?f.message(f.fullField||f.field):f.message||(f.fullField||f.field)+" fails"):x instanceof Array?w(x):x instanceof Error&&w(x.message)}x&&x.then&&x.then(function(){return w()},function(q){return w(q)})},function(c){d(c)},o)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!X.hasOwnProperty(r.type))throw new Error($("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),s=n.indexOf("message");return s!==-1&&n.splice(s,1),n.length===1&&n[0]==="required"?X.required:X[this.getType(r)]||void 0},a}();ne.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");X[e]=t};ne.warning=en;ne.messages=ke;ne.validators=X;const Vn=["","error","validating","success"],Cn=Ce({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:ye([String,Array])},required:{type:Boolean,default:void 0},rules:{type:ye([Object,Array])},error:String,validateStatus:{type:String,values:Vn},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:tt}}),Ge="ElLabelWrap";var Sn=I({name:Ge,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(a,{slots:e}){const t=le(je,void 0),r=le(be);r||Ct(Ge,"usage: <el-form-item><label-wrap /></el-form-item>");const n=Se("form"),s=M(),i=M(0),o=()=>{var d;if((d=s.value)!=null&&d.firstElementChild){const p=window.getComputedStyle(s.value.firstElementChild).width;return Math.ceil(Number.parseFloat(p))}else return 0},u=(d="update")=>{et(()=>{e.default&&a.isAutoWidth&&(d==="update"?i.value=o():d==="remove"&&(t==null||t.deregisterLabelWidth(i.value)))})},m=()=>u("update");return Oe(()=>{m()}),Ae(()=>{u("remove")}),gt(()=>m()),Q(i,(d,p)=>{a.updateAll&&(t==null||t.registerLabelWidth(d,p))}),vt(O(()=>{var d,p;return(p=(d=s.value)==null?void 0:d.firstElementChild)!=null?p:null}),m),()=>{var d,p;if(!e)return null;const{isAutoWidth:v}=a;if(v){const E=t==null?void 0:t.autoLabelWidth,k=r==null?void 0:r.hasLabel,c={};if(k&&E&&E!=="auto"){const b=Math.max(0,Number.parseInt(E,10)-i.value),f=t.labelPosition==="left"?"marginRight":"marginLeft";b&&(c[f]=`${b}px`)}return A("div",{ref:s,class:[n.be("item","label-wrap")],style:c},[(d=e.default)==null?void 0:d.call(e)])}else return A(ht,{ref:s},[(p=e.default)==null?void 0:p.call(e)])}}});const jn=["role","aria-labelledby"],Pn=I({name:"ElFormItem"}),$n=I({...Pn,props:Cn,setup(a,{expose:e}){const t=a,r=yt(),n=le(je,void 0),s=le(be,void 0),i=rt(void 0,{formItem:!1}),o=Se("form-item"),u=St().value,m=M([]),d=M(""),p=bt(d,100),v=M(""),E=M();let k,c=!1;const b=O(()=>{if((n==null?void 0:n.labelPosition)==="top")return{};const g=We(t.labelWidth||(n==null?void 0:n.labelWidth)||"");return g?{width:g}:{}}),f=O(()=>{if((n==null?void 0:n.labelPosition)==="top"||(n==null?void 0:n.inline))return{};if(!t.label&&!t.labelWidth&&L)return{};const g=We(t.labelWidth||(n==null?void 0:n.labelWidth)||"");return!t.label&&!r.label?{marginLeft:g}:{}}),h=O(()=>[o.b(),o.m(i.value),o.is("error",d.value==="error"),o.is("validating",d.value==="validating"),o.is("success",d.value==="success"),o.is("required",ce.value||t.required),o.is("no-asterisk",n==null?void 0:n.hideRequiredAsterisk),(n==null?void 0:n.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:n==null?void 0:n.statusIcon}]),l=O(()=>nt(t.inlineMessage)?t.inlineMessage:(n==null?void 0:n.inlineMessage)||!1),w=O(()=>[o.e("error"),{[o.em("error","inline")]:l.value}]),x=O(()=>t.prop?he(t.prop)?t.prop:t.prop.join("."):""),q=O(()=>!!(t.label||r.label)),R=O(()=>t.for||(m.value.length===1?m.value[0]:void 0)),P=O(()=>!R.value&&q.value),L=!!s,Y=O(()=>{const g=n==null?void 0:n.model;if(!(!g||!t.prop))return ge(g,t.prop).value}),H=O(()=>{const{required:g}=t,_=[];t.rules&&_.push(...we(t.rules));const S=n==null?void 0:n.rules;if(S&&t.prop){const C=ge(S,t.prop).value;C&&_.push(...we(C))}if(g!==void 0){const C=_.map((D,G)=>[D,G]).filter(([D])=>Object.keys(D).includes("required"));if(C.length>0)for(const[D,G]of C)D.required!==g&&(_[G]={...D,required:g});else _.push({required:g})}return _}),N=O(()=>H.value.length>0),B=g=>H.value.filter(S=>!S.trigger||!g?!0:Array.isArray(S.trigger)?S.trigger.includes(g):S.trigger===g).map(({trigger:S,...C})=>C),ce=O(()=>H.value.some(g=>g.required)),lt=O(()=>{var g;return p.value==="error"&&t.showMessage&&((g=n==null?void 0:n.showMessage)!=null?g:!0)}),Pe=O(()=>`${t.label||""}${(n==null?void 0:n.labelSuffix)||""}`),K=g=>{d.value=g},ut=g=>{var _,S;const{errors:C,fields:D}=g;(!C||!D)&&console.error(g),K("error"),v.value=C?(S=(_=C==null?void 0:C[0])==null?void 0:_.message)!=null?S:`${t.prop} is required`:"",n==null||n.emit("validate",t.prop,!1,v.value)},dt=()=>{K("success"),n==null||n.emit("validate",t.prop,!0,"")},ft=async g=>{const _=x.value;return new ne({[_]:g}).validate({[_]:Y.value},{firstFields:!0}).then(()=>(dt(),!0)).catch(C=>(ut(C),Promise.reject(C)))},$e=async(g,_)=>{if(c||!t.prop)return!1;const S=Qe(_);if(!N.value)return _==null||_(!1),!1;const C=B(g);return C.length===0?(_==null||_(!0),!0):(K("validating"),ft(C).then(()=>(_==null||_(!0),!0)).catch(D=>{const{fields:G}=D;return _==null||_(!1,G),S?!1:Promise.reject(G)}))},pe=()=>{K(""),v.value="",c=!1},Be=async()=>{const g=n==null?void 0:n.model;if(!g||!t.prop)return;const _=ge(g,t.prop);c=!0,_.value=Le(k),await et(),pe(),c=!1},ct=g=>{m.value.includes(g)||m.value.push(g)},pt=g=>{m.value=m.value.filter(_=>_!==g)};Q(()=>t.error,g=>{v.value=g||"",K(g?"error":"")},{immediate:!0}),Q(()=>t.validateStatus,g=>K(g||""));const me=Ee({...Xe(t),$el:E,size:i,validateState:d,labelId:u,inputIds:m,isGroup:P,hasLabel:q,addInputId:ct,removeInputId:pt,resetField:Be,clearValidate:pe,validate:$e});return Ze(be,me),Oe(()=>{t.prop&&(n==null||n.addField(me),k=Le(Y.value))}),Ae(()=>{n==null||n.removeField(me)}),e({size:i,validateMessage:v,validateState:d,validate:$e,clearValidate:pe,resetField:Be}),(g,_)=>{var S;return z(),de("div",{ref_key:"formItemRef",ref:E,class:T(F(h)),role:F(P)?"group":void 0,"aria-labelledby":F(P)?F(u):void 0},[A(F(Sn),{"is-auto-width":F(b).width==="auto","update-all":((S=F(n))==null?void 0:S.labelWidth)==="auto"},{default:j(()=>[F(q)?(z(),Ve(wt(F(R)?"label":"div"),{key:0,id:F(u),for:F(R),class:T(F(o).e("label")),style:Ne(F(b))},{default:j(()=>[se(g.$slots,"label",{label:F(Pe)},()=>[ee(Re(F(Pe)),1)])]),_:3},8,["id","for","class","style"])):De("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),W("div",{class:T(F(o).e("content")),style:Ne(F(f))},[se(g.$slots,"default"),A(Ft,{name:`${F(o).namespace.value}-zoom-in-top`},{default:j(()=>[F(lt)?se(g.$slots,"error",{key:0,error:v.value},()=>[W("div",{class:T(F(w))},Re(v.value),3)]):De("v-if",!0)]),_:3},8,["name"])],6)],10,jn)}}});var st=at($n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/form/src/form-item.vue"]]);const Bn=jt(Jt,{FormItem:st}),Je=Pt(st),Rn={toolbar:"bold | alignleft aligncenter alignright alignjustify | bullist numlist | forecolor | fullscreen",menubar:!1,plugins:"lists fullscreen"},Nn={toolbar:"undo redo | formatselect | bold | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent | forecolor backcolor | removeformat | link image table | uploadImage | preview | fullscreen",menubar:!1,plugins:"lists fullscreen link image preview table imagetools"},Dn={toolbar:"formatselect | bold | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent | forecolor backcolor | removeformat | link image | preview",menubar:!0,plugins:"lists link image preview table imagetools fullscreen"},Mn={toolbar:"formatselect | code | bold italic strikethrough forecolor backcolor permanentpen formatpainter | link image media pageembed | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent | removeformat | addcomment",menubar:!0,plugins:"code print preview fullpage searchreplace autolink directionality visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern help",image_advtab:!0,image_caption:!0},ot={mini:Rn,simple:Nn,standard:Dn,full:Mn},Wn=["id"],In=I({__name:"index",props:{id:{type:String,default:()=>`h-tinymce-${+new Date}${(Math.random()*1e3).toFixed(0)}`},config:{type:String,default:"mini"},width:{type:String,default:"100%"},height:{type:String,default:"360px"},modelValue:{type:String,default:""},httpRequest:{type:Function,default:void 0}},emits:["update:modelValue"],setup(a,{expose:e,emit:t}){const r=a;qt(p=>({"8ac204bc":a.height}));const n=_t(),s=M(!1),i=async()=>{if(!ue)return;n.value||(s.value=!0,n.value=await Me.loadCdnSingle("tinymce"));const p=ue.h_utils.cdn.name,v=Me.baseCdnUrl[p],E="5.8.1";let k="",c="";switch(p){case"defaultBase":k=`${v}/tinymce/${E}`,c=`${v}/tinymce-langs/1.0.0/langs/zh_CN.js`;break;case"jsdelivr":k=`${v}/tinymce@${E}`,c=`${v}/tinymce-langs@1.0.0/langs/zh_CN.js`;break;case"localCDN":k=`${v}/tinymce/${E}`,c=`${v}/tinymce-langs/1.0.0/langs/zh_CN.js`;break}n.value.init({...ot[r.config],selector:`#${r.id}`,language:"zh_CN",language_url:c,height:r.height,width:r.width,base_url:k,content_css:!1,image_uploadtab:!0,images_upload_handler:r.httpRequest,init_instance_callback:b=>{r.modelValue&&b.setContent(r.modelValue),b.on("NodeChange Change KeyUp SetContent",()=>{t("update:modelValue",b.getContent())}),s.value=!1}})},o=()=>{if(!n.value)return;const p=n.value.get(r.id);p.execCommand("mceFullScreen"),p&&p.destroy()},u=O(()=>r.config);return Q(u,()=>{o(),i()}),Oe(async()=>{i()}),Ae(()=>o()),e({setContent:p=>{if(!n.value)return;n.value.get(r.id).setContent(p)},getContent:()=>{if(!n.value)return;n.value.get(r.id).getContent()}}),(p,v)=>xt((z(),de("div",{class:T(p.$style.tinymce)},[W("textarea",{id:a.id,class:T(p.$style.textarea)},null,10,Wn)],2)),[[F(Dt),s.value]])}}),Ln="_tinymce_aa7a3_1",Tn="_textarea_aa7a3_6",Un={tinymce:Ln,textarea:Tn},zn={$style:Un},Ye=fe(In,[["__cssModules",zn],["__file","index.vue"]]),Hn=["innerHTML"],Kn=I({__name:"example",setup(a){const e=M("TinyMCE"),t=M("mini"),r=Object.keys(ot),[n,s]=kt(),i=Ee({fields:{title:"",content:""}}),o=(u,m,d)=>{if(!ue)return;const p=ue.URL.createObjectURL(u.blob());p?m(p):d("\u4E0A\u4F20\u5931\u8D25")};return(u,m)=>(z(),Ve($t,null,{default:j(()=>[A(F(re),{label:"\u5C55\u793A\u533A"},{default:j(()=>[A(Ye,{modelValue:e.value,"onUpdate:modelValue":m[0]||(m[0]=d=>e.value=d),config:t.value,"http-request":o},null,8,["modelValue","config"])]),_:1}),A(F(re),{label:"\u7F16\u8F91\u5668\u914D\u7F6E"},{default:j(()=>[A(Rt,{modelValue:t.value,"onUpdate:modelValue":m[1]||(m[1]=d=>t.value=d),options:F(r)},null,8,["modelValue","options"])]),_:1}),A(F(re),{label:"\u7ED3\u679C"},{default:j(()=>[W("div",{innerHTML:e.value},null,8,Hn)]),_:1}),A(F(re),{label:"\u5C55\u793A\u533A\uFF1A\u5BF9\u8BDD\u6846"},{default:j(()=>[A(Ie,{type:"primary",onClick:m[2]||(m[2]=()=>F(s)())},{default:j(()=>[ee("\u6253\u5F00")]),_:1}),A(Nt,{modelValue:F(n),"onUpdate:modelValue":m[6]||(m[6]=d=>Et(n)?n.value=d:null),title:"\u5BF9\u8BDD\u6846\u5C55\u793A\u7F16\u8F91\u5668","close-on-click-modal":!1,width:600,"destroy-on-close":"","append-to-body":"","show-fullscreen":!1},{footer:j(()=>[A(Ie,{type:"primary",onClick:m[5]||(m[5]=()=>F(s)())},{default:j(()=>[ee("\u5173\u95ED")]),_:1})]),default:j(()=>[A(F(Bn),{model:i.fields,"label-width":"80px"},{default:j(()=>[A(F(Je),{prop:"title",label:"\u6807\u9898"},{default:j(()=>[A(F(Wt),{modelValue:i.fields.title,"onUpdate:modelValue":m[3]||(m[3]=d=>i.fields.title=d),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),A(F(Je),{prop:"content",label:"\u5185\u5BB9"},{default:j(()=>[A(Ye,{modelValue:i.fields.content,"onUpdate:modelValue":m[4]||(m[4]=d=>i.fields.content=d),modelModifiers:{trim:!0},height:"230px",config:"simple"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])]),_:1})]),_:1}))}}),Gn=fe(Kn,[["__file","example.vue"]]),Jn=I({__name:"usage",setup(a){const e={params:[{param:"*v-model",description:"\u7ED1\u5B9A\u503C",type:"string",defaultValue:""},{param:"width",description:"\u7F16\u8F91\u5668\u5BBD\u5EA6",type:"string",defaultValue:"100%"},{param:"height",description:"\u7F16\u8F91\u5668\u9AD8\u5EA6",type:"string",defaultValue:"360px"},{param:"id",description:"\u7F16\u8F91\u5668\u7684id",type:"string",defaultValue:"\u968F\u673A"},{param:"config",description:"\u914D\u7F6E\u7C7B\u578B\uFF0C\u4E0D\u540C\u7684\u6309\u952E\u914D\u7F6E",type:"mini | simple | standard | full",defaultValue:"mini"},{param:"http-request",description:"\u81EA\u5B9A\u4E49\u4E0A\u4F20",type:"UploadHandler",defaultValue:"undefind"}],types:[{param:"UploadHandler",description:"(blobInfo, onSccuess, onFailed) => void\uFF0C\u8BE6\u60C5\u8BF7\u67E5\u9605tinymce.d.ts"}],methods:[{name:"setContent",description:"\u8BBE\u7F6E\u7F16\u8F91\u5668\u7684\u5185\u5BB9",param:"val: string"},{name:"getContent",description:"\u83B7\u53D6\u7F16\u8F91\u5668\u7684\u5185\u5BB9",param:"-"}]};return(t,r)=>(z(),Ve(Bt,{data:e}))}}),Yn=fe(Jn,[["__file","usage.vue"]]),Zn=W("h2",{id:"\u529F\u80FD",tabindex:"-1"},[W("a",{class:"header-anchor",href:"#\u529F\u80FD","aria-hidden":"true"},"#"),ee(" \u529F\u80FD")],-1),Xn=W("p",null,"\u57FA\u4E8E TinyMCE \u7684\u5BCC\u6587\u672C\u7F16\u8F91\u5668",-1),Qn=W("h2",{id:"\u529F\u80FD\u793A\u4F8B",tabindex:"-1"},[W("a",{class:"header-anchor",href:"#\u529F\u80FD\u793A\u4F8B","aria-hidden":"true"},"#"),ee(" \u529F\u80FD\u793A\u4F8B")],-1),er=Ot(`<h2 id="\u6700\u5C0F\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u6700\u5C0F\u793A\u4F8B" aria-hidden="true">#</a> \u6700\u5C0F\u793A\u4F8B</h2><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Wrapper</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HTinymce</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>result<span class="token punctuation">&quot;</span></span> <span class="token attr-name">config</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Wrapper</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Wrapper <span class="token keyword">from</span> <span class="token string">&#39;@/components/simple-wrapper.vue&#39;</span>
<span class="token keyword">import</span> HTinymce <span class="token keyword">from</span> <span class="token string">&#39;../index.vue&#39;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;Tinymce&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h2>`,3),tr={__name:"tinymce.html",setup(a){return(e,t)=>(z(),de("div",null,[Zn,Xn,Qn,A(Gn),er,A(Yn)]))}},kr=fe(tr,[["__file","tinymce.html.vue"]]);export{kr as default};
