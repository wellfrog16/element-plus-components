import{G as se,f as I,A as _,B as v,o as g,c as S,a as $,P as c,X as i,u as e,t as P,d as F,w as d,h as C,a3 as le,a4 as A,Y as z,ad as oe,g as B,O as ae,V as q,W as O,Q as j,at as K,Z as te,a8 as ne,aG as re,H as ie,b as H,D as de,aB as ue,_ as ce}from"./app.102c0a36.js";import{q as fe,ap as me,G as ge,_ as U,aq as pe,j as he,ar as ve,w as be,a8 as ye,a2 as M,as as Ce,at as $e}from"./document.d036075a.js";import{u as ke,a as Ee,E as De,H as we}from"./index.3eb19322.js";import{E as L}from"./index.fc2d6e7a.js";import{d as Fe,a as Re,b as Be,c as Ae,u as Ie}from"./use-dialog.2a7514e9.js";import{u as N}from"./index.03f8fb2b.js";const Te=(...o)=>t=>{o.forEach(r=>{se(r)?r(t):r.value=t})},G=Symbol("dialogInjectionKey"),Se=["aria-level"],Ve=["aria-label"],_e=["id"],He=I({name:"ElDialogContent"}),Me=I({...He,props:Fe,emits:Re,setup(o){const t=o,{t:r}=fe(),{Close:f}=pe,{dialogRef:u,headerRef:p,bodyId:h,ns:a,style:b}=_(G),{focusTrapRef:y}=_(me),k=v(()=>[a.b(),a.is("fullscreen",t.fullscreen),a.is("draggable",t.draggable),a.is("align-center",t.alignCenter),{[a.m("center")]:t.center},t.customClass]),n=Te(y,u),m=v(()=>t.draggable);return ke(u,p,m),(l,E)=>(g(),S("div",{ref:e(n),class:i(e(k)),style:z(e(b)),tabindex:"-1"},[$("header",{ref_key:"headerRef",ref:p,class:i(e(a).e("header"))},[c(l.$slots,"header",{},()=>[$("span",{role:"heading","aria-level":l.ariaLevel,class:i(e(a).e("title"))},P(l.title),11,Se)]),l.showClose?(g(),S("button",{key:0,"aria-label":e(r)("el.dialog.close"),class:i(e(a).e("headerbtn")),type:"button",onClick:E[0]||(E[0]=T=>l.$emit("close"))},[F(e(ge),{class:i(e(a).e("close"))},{default:d(()=>[(g(),C(le(l.closeIcon||e(f))))]),_:1},8,["class"])],10,Ve)):A("v-if",!0)],2),$("div",{id:e(h),class:i(e(a).e("body"))},[c(l.$slots,"default")],10,_e),l.$slots.footer?(g(),S("footer",{key:0,class:i(e(a).e("footer"))},[c(l.$slots,"footer")],2)):A("v-if",!0)],6))}});var Le=U(Me,[["__file","dialog-content.vue"]]);const Ne=["aria-label","aria-labelledby","aria-describedby"],Pe=I({name:"ElDialog",inheritAttrs:!1}),ze=I({...Pe,props:Be,emits:Ae,setup(o,{expose:t}){const r=o,f=oe();N({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},v(()=>!!f.title)),N({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},v(()=>!!r.customClass));const u=he("dialog"),p=B(),h=B(),a=B(),{visible:b,titleId:y,bodyId:k,style:n,overlayDialogStyle:m,rendered:l,zIndex:E,afterEnter:T,afterLeave:Y,beforeLeave:J,handleClose:V,onModalClick:Q,onOpenAutoFocus:W,onCloseAutoFocus:X,onCloseRequested:Z,onFocusoutPrevented:x}=Ie(r,p);ae(G,{dialogRef:p,headerRef:h,bodyId:k,ns:u,rendered:l,style:n});const D=Ee(Q),ee=v(()=>r.draggable&&!r.fullscreen);return t({visible:b,dialogContentRef:a}),(s,w)=>(g(),C(ne,{to:s.appendTo,disabled:s.appendTo!=="body"?!1:!s.appendToBody},[F(te,{name:"dialog-fade",onAfterEnter:e(T),onAfterLeave:e(Y),onBeforeLeave:e(J),persisted:""},{default:d(()=>[q(F(e(De),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":e(E)},{default:d(()=>[$("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:e(y),"aria-describedby":e(k),class:i(`${e(u).namespace.value}-overlay-dialog`),style:z(e(m)),onClick:w[0]||(w[0]=(...R)=>e(D).onClick&&e(D).onClick(...R)),onMousedown:w[1]||(w[1]=(...R)=>e(D).onMousedown&&e(D).onMousedown(...R)),onMouseup:w[2]||(w[2]=(...R)=>e(D).onMouseup&&e(D).onMouseup(...R))},[F(e(ve),{loop:"",trapped:e(b),"focus-start-el":"container",onFocusAfterTrapped:e(W),onFocusAfterReleased:e(X),onFocusoutPrevented:e(x),onReleaseRequested:e(Z)},{default:d(()=>[e(l)?(g(),C(Le,j({key:0,ref_key:"dialogContentRef",ref:a},s.$attrs,{"custom-class":s.customClass,center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:e(ee),fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:e(V)}),K({header:d(()=>[s.$slots.title?c(s.$slots,"title",{key:1}):c(s.$slots,"header",{key:0,close:e(V),titleId:e(y),titleClass:e(u).e("title")})]),default:d(()=>[c(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:d(()=>[c(s.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):A("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ne)]),_:3},8,["mask","overlay-class","z-index"]),[[O,e(b)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var qe=U(ze,[["__file","dialog.vue"]]);const Oe=be(qe),je=["id"],Ke=I({__name:"index",props:{modelValue:{type:Boolean,default:!1},title:{default:"\u5BF9\u8BDD\u6846"},showFullscreen:{type:Boolean,default:!0},showDefaultFooter:{type:Boolean,default:!1},lazy:{type:Boolean,default:!0},height:null,maxHeight:null,fullscreenHeight:{default:"calc(100vh - 146px)"},flex:{type:Boolean,default:!1}},emits:["update:modelValue","closed"],setup(o,{emit:t}){const r=o,f=ue(),u=v({get:()=>r.modelValue,set:n=>t("update:modelValue",n)}),p=B(!1),h=B(!1),a=re(h),b=v(()=>h.value?Ce:$e),y=v(()=>({[f.scrollbar]:!0,[f.flex]:r.flex}));ie(u,n=>{n&&(p.value=!0)});const k=()=>{p.value=!1,t("closed")};return(n,m)=>p.value||!o.lazy?(g(),C(e(Oe),j({key:0,modelValue:e(u),"onUpdate:modelValue":m[2]||(m[2]=l=>de(u)?u.value=l:null)},n.$attrs,{"align-center":"","show-close":!1,fullscreen:h.value,class:e(f).main,onClosed:k}),K({header:d(({close:l,titleId:E,titleClass:T})=>[$("div",{class:i(e(f).header)},[$("span",{id:E,class:i([T,e(f).title])},[c(n.$slots,"header",{close:l},()=>[H(P(o.title),1)])],10,je),$("span",{class:i(e(f).buttons)},[q(F(e(L),{icon:e(b),plain:"",onClick:m[0]||(m[0]=()=>e(a)())},null,8,["icon"]),[[O,o.showFullscreen]]),F(e(L),{icon:e(ye),plain:"",onClick:l},null,8,["icon","onClick"])],2)],2)]),default:d(()=>[!h.value&&(o.height||o.maxHeight)?(g(),C(e(M),{key:0,class:i(e(y)),height:o.height,"max-height":o.maxHeight},{default:d(()=>[c(n.$slots,"default")]),_:3},8,["class","height","max-height"])):(g(),C(e(M),{key:1,class:i(e(y)),"max-height":o.fullscreenHeight},{default:d(()=>[c(n.$slots,"default")]),_:3},8,["class","max-height"]))]),_:2},[o.showDefaultFooter||n.$slots.footer?{name:"footer",fn:d(()=>[c(n.$slots,"footer",{},()=>[o.showDefaultFooter?(g(),C(we,{key:0,onClick:m[1]||(m[1]=l=>u.value=!1)},{default:d(()=>[H("\u5173\u95ED")]),_:1})):A("v-if",!0)])]),key:"0"}:void 0]),1040,["modelValue","fullscreen","class"])):A("v-if",!0)}}),Ue="_main_um8p3_1",Ge="_header_um8p3_19",Ye="_title_um8p3_29",Je="_scrollbar_um8p3_34",Qe="_flex_um8p3_42",We="_buttons_um8p3_47",Xe={main:Ue,header:Ge,title:Ye,scrollbar:Je,flex:Qe,buttons:We},Ze={$style:Xe},ts=ce(Ke,[["__cssModules",Ze],["__file","index.vue"]]);export{ts as H};
