import{I as x,f as B,D as T,E as v,o as g,c as S,a as C,U as c,a0 as i,u as e,t as z,d as _,w as d,h as w,a7 as ee,a8 as A,a1 as H,ai as se,g as F,R as le,Z as P,$ as U,V as K,ay as oe,a2 as ae,ad as te,aL as ne,J as re,b as ie,G as de,aM as ue,_ as ce}from"./app.8dd14888.js";import{o as fe,al as me,B as ge,_ as O,am as pe,h as he,an as ve,w as be,a5 as ye,X as M,ao as Ce,ap as ke}from"./document.f7ed7038.js";import{E as L}from"./index.10e71e0e.js";import{u as $e,a as Ee,E as Re}from"./index.c70b3b25.js";import{d as _e,a as we,b as De,c as Fe,u as Be}from"./use-dialog.3b815d7f.js";import{u as N}from"./index.2fc7c2fd.js";const Ie=(...a)=>t=>{a.forEach(n=>{x(n)?n(t):n.value=t})},j=Symbol("dialogInjectionKey"),Ae=["aria-level"],Se=["aria-label"],Ve=["id"],Te=B({name:"ElDialogContent"}),Me=B({...Te,props:_e,emits:we,setup(a){const t=a,{t:n}=fe(),{Close:f}=pe,{dialogRef:u,headerRef:m,bodyId:p,ns:o,style:b}=T(j),{focusTrapRef:y}=T(me),k=v(()=>[o.b(),o.is("fullscreen",t.fullscreen),o.is("draggable",t.draggable),o.is("align-center",t.alignCenter),{[o.m("center")]:t.center},t.customClass]),r=Ie(y,u),h=v(()=>t.draggable);return $e(u,m,h),(l,$)=>(g(),S("div",{ref:e(r),class:i(e(k)),style:H(e(b)),tabindex:"-1"},[C("header",{ref_key:"headerRef",ref:m,class:i(e(o).e("header"))},[c(l.$slots,"header",{},()=>[C("span",{role:"heading","aria-level":l.ariaLevel,class:i(e(o).e("title"))},z(l.title),11,Ae)]),l.showClose?(g(),S("button",{key:0,"aria-label":e(n)("el.dialog.close"),class:i(e(o).e("headerbtn")),type:"button",onClick:$[0]||($[0]=I=>l.$emit("close"))},[_(e(ge),{class:i(e(o).e("close"))},{default:d(()=>[(g(),w(ee(l.closeIcon||e(f))))]),_:1},8,["class"])],10,Se)):A("v-if",!0)],2),C("div",{id:e(p),class:i(e(o).e("body"))},[c(l.$slots,"default")],10,Ve),l.$slots.footer?(g(),S("footer",{key:0,class:i(e(o).e("footer"))},[c(l.$slots,"footer")],2)):A("v-if",!0)],6))}});var Le=O(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Ne=["aria-label","aria-labelledby","aria-describedby"],ze=B({name:"ElDialog",inheritAttrs:!1}),He=B({...ze,props:De,emits:Fe,setup(a,{expose:t}){const n=a,f=se();N({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},v(()=>!!f.title)),N({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},v(()=>!!n.customClass));const u=he("dialog"),m=F(),p=F(),o=F(),{visible:b,titleId:y,bodyId:k,style:r,overlayDialogStyle:h,rendered:l,zIndex:$,afterEnter:I,afterLeave:q,beforeLeave:J,handleClose:V,onModalClick:G,onOpenAutoFocus:X,onCloseAutoFocus:Y,onCloseRequested:Z,onFocusoutPrevented:Q}=Be(n,m);le(j,{dialogRef:m,headerRef:p,bodyId:k,ns:u,rendered:l,style:r});const E=Ee(G),W=v(()=>n.draggable&&!n.fullscreen);return t({visible:b,dialogContentRef:o}),(s,R)=>(g(),w(te,{to:"body",disabled:!s.appendToBody},[_(ae,{name:"dialog-fade",onAfterEnter:e(I),onAfterLeave:e(q),onBeforeLeave:e(J),persisted:""},{default:d(()=>[P(_(e(Re),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":e($)},{default:d(()=>[C("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:e(y),"aria-describedby":e(k),class:i(`${e(u).namespace.value}-overlay-dialog`),style:H(e(h)),onClick:R[0]||(R[0]=(...D)=>e(E).onClick&&e(E).onClick(...D)),onMousedown:R[1]||(R[1]=(...D)=>e(E).onMousedown&&e(E).onMousedown(...D)),onMouseup:R[2]||(R[2]=(...D)=>e(E).onMouseup&&e(E).onMouseup(...D))},[_(e(ve),{loop:"",trapped:e(b),"focus-start-el":"container",onFocusAfterTrapped:e(X),onFocusAfterReleased:e(Y),onFocusoutPrevented:e(Q),onReleaseRequested:e(Z)},{default:d(()=>[e(l)?(g(),w(Le,K({key:0,ref_key:"dialogContentRef",ref:o},s.$attrs,{"custom-class":s.customClass,center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:e(W),fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:e(V)}),oe({header:d(()=>[s.$slots.title?c(s.$slots,"title",{key:1}):c(s.$slots,"header",{key:0,close:e(V),titleId:e(y),titleClass:e(u).e("title")})]),default:d(()=>[c(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:d(()=>[c(s.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):A("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ne)]),_:3},8,["mask","overlay-class","z-index"]),[[U,e(b)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Pe=O(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Ue=be(Pe),Ke=["id"],Oe=B({__name:"index",props:{modelValue:{type:Boolean,default:!1},title:{default:"\u5BF9\u8BDD\u6846"},showFullscreen:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0},height:null,maxHeight:null,fullscreenHeight:{default:"calc(100vh - 146px)"},flex:{type:Boolean,default:!1}},emits:["update:modelValue","closed"],setup(a,{emit:t}){const n=a,f=ue(),u=v({get:()=>n.modelValue,set:r=>t("update:modelValue",r)}),m=F(!1),p=F(!1),o=ne(p),b=v(()=>p.value?Ce:ke),y=v(()=>({[f.scrollbar]:!0,[f.flex]:n.flex}));re(u,r=>{r&&(m.value=!0)});const k=()=>{m.value=!1,t("closed")};return(r,h)=>m.value||!a.lazy?(g(),w(e(Ue),K({key:0,modelValue:e(u),"onUpdate:modelValue":h[1]||(h[1]=l=>de(u)?u.value=l:null)},r.$attrs,{"align-center":"","show-close":!1,fullscreen:p.value,class:e(f).main,onClosed:k}),{header:d(({close:l,titleId:$,titleClass:I})=>[C("div",{class:i(e(f).header)},[C("span",{id:$,class:i([I,e(f).title])},[c(r.$slots,"header",{close:l},()=>[ie(z(a.title),1)])],10,Ke),C("span",{class:i(e(f).buttons)},[P(_(e(L),{icon:e(b),plain:"",onClick:h[0]||(h[0]=()=>e(o)())},null,8,["icon"]),[[U,a.showFullscreen]]),_(e(L),{icon:e(ye),plain:"",onClick:l},null,8,["icon","onClick"])],2)],2)]),default:d(()=>[!p.value&&(a.height||a.maxHeight)?(g(),w(e(M),{key:0,class:i(e(y)),height:a.height,"max-height":a.maxHeight},{default:d(()=>[c(r.$slots,"default")]),_:3},8,["class","height","max-height"])):(g(),w(e(M),{key:1,class:i(e(y)),"max-height":a.fullscreenHeight},{default:d(()=>[c(r.$slots,"default")]),_:3},8,["class","max-height"]))]),footer:d(()=>[c(r.$slots,"footer")]),_:3},16,["modelValue","fullscreen","class"])):A("v-if",!0)}}),je="_main_um8p3_1",qe="_header_um8p3_19",Je="_title_um8p3_29",Ge="_scrollbar_um8p3_34",Xe="_flex_um8p3_42",Ye="_buttons_um8p3_47",Ze={main:je,header:qe,title:Je,scrollbar:Ge,flex:Xe,buttons:Ye},Qe={$style:Ze},as=ce(Oe,[["__cssModules",Qe],["__file","index.vue"]]);export{as as H};
