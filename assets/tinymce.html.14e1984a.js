import{f as w,M as D,g as x,E as q,J as A,K as U,O as j,Z as N,u as d,o as h,c as E,a as c,a0 as S,aL as k,aB as F,_ as b,h as B,w as v,d as u,b as V,e as T}from"./app.9f070562.js";import{E as C,W as H,D as M}from"./document.a12231e9.js";import{H as L}from"./index.fc4ee014.js";import{v as R}from"./directive.e6e94db0.js";import"./useChoice.baff1cc9.js";import"./index.264daf1b.js";import"./use-global-config.bdc62a14.js";const W={toolbar:"bold | alignleft aligncenter alignright alignjustify | bullist numlist | forecolor | fullscreen",menubar:!1,plugins:"lists fullscreen"},z={toolbar:"undo redo | formatselect | bold | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent | forecolor backcolor | removeformat | link image table | uploadImage | preview | fullscreen",menubar:!1,plugins:"lists fullscreen link image preview table imagetools"},I={toolbar:"formatselect | bold | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent | forecolor backcolor | removeformat | link image | preview",menubar:!0,plugins:"lists link image preview table imagetools fullscreen"},O={toolbar:"formatselect | code | bold italic strikethrough forecolor backcolor permanentpen formatpainter | link image media pageembed | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent | removeformat | addcomment",menubar:!0,plugins:"code print preview fullpage searchreplace autolink directionality visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount imagetools textpattern help",image_advtab:!0,image_caption:!0},$={mini:W,simple:z,standard:I,full:O},K=["id"],J=w({__name:"index",props:{id:{type:String,default:()=>`h-tinymce-${+new Date}${(Math.random()*1e3).toFixed(0)}`},config:{type:String,default:"mini"},width:{type:String,default:"100%"},height:{type:String,default:"360px"},modelValue:{type:String,default:""},httpRequest:{type:Function,default:void 0}},emits:["update:modelValue"],setup(r,{expose:s,emit:o}){const n=r,a=D(),p=x(!1),t=async()=>{if(!k)return;a.value||(p.value=!0,a.value=await F.loadCdnSingle("tinymce"));const e=k.h_utils.cdn.name,i=F.baseCdnUrl[e],_="5.8.1";let g="",f="";switch(e){case"defaultBase":g=`${i}/tinymce/${_}`,f=`${i}/tinymce-langs/1.0.0/langs/zh_CN.js`;break;case"jsdelivr":g=`${i}/tinymce@${_}`,f=`${i}/tinymce-langs@1.0.0/langs/zh_CN.js`;break;case"localCDN":g=`${i}/tinymce/${_}`,f=`${i}/tinymce-langs/1.0.0/langs/zh_CN.js`;break}a.value.init({...$[n.config],selector:`#${n.id}`,language:"zh_CN",language_url:f,height:n.height,width:n.width,base_url:g,content_css:!1,image_uploadtab:!0,images_upload_handler:n.httpRequest,init_instance_callback:y=>{n.modelValue&&y.setContent(n.modelValue),y.on("NodeChange Change KeyUp SetContent",()=>{o("update:modelValue",y.getContent())}),p.value=!1}})},l=()=>{if(!a.value)return;const e=a.value.get(n.id);e.execCommand("mceFullScreen"),e&&e.destroy()},m=q(()=>n.config);return A(m,()=>{l(),t()}),U(async()=>{t()}),j(()=>l()),s({setContent:e=>{if(!a.value)return;a.value.get(n.id).setContent(e)},getContent:()=>{if(!a.value)return;a.value.get(n.id).getContent()}}),(e,i)=>N((h(),E("div",null,[c("textarea",{id:r.id,class:S(e.$style.textarea)},null,10,K)])),[[d(R),p.value]])}}),P="_textarea_2rw7u_1",Z={textarea:P},G={$style:Z},Q=b(J,[["__cssModules",G],["__file","index.vue"]]),X=["innerHTML"],Y=w({__name:"example",setup(r){const s=x("TinyMCE"),o=x("mini"),n=Object.keys($),a=(p,t,l)=>{if(!k)return;const m=k.URL.createObjectURL(p.blob());m?t(m):l("\u4E0A\u4F20\u5931\u8D25")};return(p,t)=>(h(),B(H,null,{default:v(()=>[u(d(C),{label:"\u5C55\u793A\u533A"},{default:v(()=>[u(Q,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),config:o.value,"http-request":a},null,8,["modelValue","config"])]),_:1}),u(d(C),{label:"\u7F16\u8F91\u5668\u914D\u7F6E"},{default:v(()=>[u(L,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=l=>o.value=l),options:d(n)},null,8,["modelValue","options"])]),_:1}),u(d(C),{label:"\u7ED3\u679C"},{default:v(()=>[c("div",{innerHTML:s.value},null,8,X)]),_:1})]),_:1}))}}),nn=b(Y,[["__file","example.vue"]]),an=w({__name:"usage",setup(r){const s={params:[{param:"*v-model",description:"\u7ED1\u5B9A\u503C",type:"string",defaultValue:""},{param:"width",description:"\u7F16\u8F91\u5668\u5BBD\u5EA6",type:"string",defaultValue:"100%"},{param:"height",description:"\u7F16\u8F91\u5668\u9AD8\u5EA6",type:"string",defaultValue:"360px"},{param:"id",description:"\u7F16\u8F91\u5668\u7684id",type:"string",defaultValue:"\u968F\u673A"},{param:"config",description:"\u914D\u7F6E\u7C7B\u578B\uFF0C\u4E0D\u540C\u7684\u6309\u952E\u914D\u7F6E",type:"mini | simple | standard | full",defaultValue:"mini"},{param:"http-request",description:"\u81EA\u5B9A\u4E49\u4E0A\u4F20",type:"UploadHandler",defaultValue:"undefind"}],types:[{param:"UploadHandler",description:"(blobInfo, onSccuess, onFailed) => void\uFF0C\u8BE6\u60C5\u8BF7\u67E5\u9605tinymce.d.ts"}],methods:[{name:"setContent",description:"\u8BBE\u7F6E\u7F16\u8F91\u5668\u7684\u5185\u5BB9",param:"val: string"},{name:"getContent",description:"\u83B7\u53D6\u7F16\u8F91\u5668\u7684\u5185\u5BB9",param:"-"}]};return(o,n)=>(h(),B(M,{data:s}))}}),en=b(an,[["__file","usage.vue"]]),tn=c("h2",{id:"\u529F\u80FD",tabindex:"-1"},[c("a",{class:"header-anchor",href:"#\u529F\u80FD","aria-hidden":"true"},"#"),V(" \u529F\u80FD")],-1),sn=c("p",null,"\u57FA\u4E8E TinyMCE \u7684\u5BCC\u6587\u672C\u7F16\u8F91\u5668",-1),ln=c("h2",{id:"\u529F\u80FD\u793A\u4F8B",tabindex:"-1"},[c("a",{class:"header-anchor",href:"#\u529F\u80FD\u793A\u4F8B","aria-hidden":"true"},"#"),V(" \u529F\u80FD\u793A\u4F8B")],-1),on=T(`<h2 id="\u6700\u5C0F\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u6700\u5C0F\u793A\u4F8B" aria-hidden="true">#</a> \u6700\u5C0F\u793A\u4F8B</h2><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Wrapper</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HTinymce</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>result<span class="token punctuation">&quot;</span></span> <span class="token attr-name">config</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mini<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Wrapper</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Wrapper <span class="token keyword">from</span> <span class="token string">&#39;@/components/simple-wrapper.vue&#39;</span>
<span class="token keyword">import</span> HTinymce <span class="token keyword">from</span> <span class="token string">&#39;../index.vue&#39;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;Tinymce&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h2>`,3),un={__name:"tinymce.html",setup(r){return(s,o)=>(h(),E("div",null,[tn,sn,ln,u(nn),on,u(en)]))}},hn=b(un,[["__file","tinymce.html.vue"]]);export{hn as default};
