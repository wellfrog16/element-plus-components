import{K as H,E as G,am as J,O as Z,f as P,B as U,z as L,o as w,c as X,a as M,R as b,X as p,u as e,t as Q,d as R,w as h,h as N,a3 as _,a4 as O,Y as V,as as x,ag as ee,g as z,D as oe,V as se,W as te,T as ae,aw as ne,Z as le,ab as re}from"./app.11033573.js";import{d as ie,a as de,b as ce,c as ue,u as me,e as fe,E as pe}from"./use-dialog.0a1ce8e9.js";import{q,G as ge,an as ve,s as he,_ as W,ao as be,u as Ce,ap as ye,w as Ee}from"./document.5a06ee6b.js";import{u as K}from"./index.c49c4348.js";const we=(...l)=>n=>{l.forEach(a=>{H(a)?a(n):a.value=n})},j=Symbol("dialogInjectionKey"),ke=(l,n,a)=>{let C={offsetX:0,offsetY:0};const i=t=>{const v=t.clientX,E=t.clientY,{offsetX:u,offsetY:m}=C,s=l.value.getBoundingClientRect(),r=s.left,k=s.top,T=s.width,A=s.height,I=document.documentElement.clientWidth,$=document.documentElement.clientHeight,S=-r+u,B=-k+m,F=I-r-T+u,Y=$-k-A+m,d=o=>{const c=Math.min(Math.max(u+o.clientX-v,S),F),f=Math.min(Math.max(m+o.clientY-E,B),Y);C={offsetX:c,offsetY:f},l.value.style.transform=`translate(${q(c)}, ${q(f)})`},D=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",D)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",D)},g=()=>{n.value&&l.value&&n.value.addEventListener("mousedown",i)},y=()=>{n.value&&l.value&&n.value.removeEventListener("mousedown",i)};G(()=>{J(()=>{a.value?g():y()})}),Z(()=>{y()})},$e=["aria-label"],De=["id"],Le={name:"ElDialogContent"},Me=P({...Le,props:ie,emits:de,setup(l){const n=l,{t:a}=ge(),{Close:C}=be,{dialogRef:i,headerRef:g,bodyId:y,ns:t,style:v}=U(j),{focusTrapRef:E}=U(ve),u=we(E,i),m=L(()=>n.draggable);return ke(i,g,m),(s,r)=>(w(),X("div",{ref:e(u),class:p([e(t).b(),e(t).is("fullscreen",s.fullscreen),e(t).is("draggable",e(m)),e(t).is("align-center",s.alignCenter),{[e(t).m("center")]:s.center},s.customClass]),style:V(e(v)),tabindex:"-1",onClick:r[1]||(r[1]=x(()=>{},["stop"]))},[M("header",{ref_key:"headerRef",ref:g,class:p(e(t).e("header"))},[b(s.$slots,"header",{},()=>[M("span",{role:"heading",class:p(e(t).e("title"))},Q(s.title),3)]),s.showClose?(w(),X("button",{key:0,"aria-label":e(a)("el.dialog.close"),class:p(e(t).e("headerbtn")),type:"button",onClick:r[0]||(r[0]=k=>s.$emit("close"))},[R(e(he),{class:p(e(t).e("close"))},{default:h(()=>[(w(),N(_(s.closeIcon||e(C))))]),_:1},8,["class"])],10,$e)):O("v-if",!0)],2),M("div",{id:e(y),class:p(e(t).e("body"))},[b(s.$slots,"default")],10,De),s.$slots.footer?(w(),X("footer",{key:0,class:p(e(t).e("footer"))},[b(s.$slots,"footer")],2)):O("v-if",!0)],6))}});var Re=W(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Te=["aria-label","aria-labelledby","aria-describedby"],Ae={name:"ElDialog",inheritAttrs:!1},Ie=P({...Ae,props:ce,emits:ue,setup(l,{expose:n}){const a=l,C=ee();K({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},L(()=>!!C.title)),K({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},L(()=>!!a.customClass));const i=Ce("dialog"),g=z(),y=z(),t=z(),{visible:v,titleId:E,bodyId:u,style:m,overlayDialogStyle:s,rendered:r,zIndex:k,afterEnter:T,afterLeave:A,beforeLeave:I,handleClose:$,onModalClick:S,onOpenAutoFocus:B,onCloseAutoFocus:F,onCloseRequested:Y}=me(a,g);oe(j,{dialogRef:g,headerRef:y,bodyId:u,ns:i,rendered:r,style:m});const d=fe(S),D=L(()=>a.draggable&&!a.fullscreen);return n({visible:v,dialogContentRef:t}),(o,c)=>(w(),N(re,{to:"body",disabled:!o.appendToBody},[R(le,{name:"dialog-fade",onAfterEnter:e(T),onAfterLeave:e(A),onBeforeLeave:e(I),persisted:""},{default:h(()=>[se(R(e(pe),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(k)},{default:h(()=>[M("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(E),"aria-describedby":e(u),class:p(`${e(i).namespace.value}-overlay-dialog`),style:V(e(s)),onClick:c[0]||(c[0]=(...f)=>e(d).onClick&&e(d).onClick(...f)),onMousedown:c[1]||(c[1]=(...f)=>e(d).onMousedown&&e(d).onMousedown(...f)),onMouseup:c[2]||(c[2]=(...f)=>e(d).onMouseup&&e(d).onMouseup(...f))},[R(e(ye),{loop:"",trapped:e(v),"focus-start-el":"container",onFocusAfterTrapped:e(B),onFocusAfterReleased:e(F),onReleaseRequested:e(Y)},{default:h(()=>[e(r)?(w(),N(Re,ae({key:0,ref_key:"dialogContentRef",ref:t},o.$attrs,{"custom-class":o.customClass,center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(D),fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,onClose:e($)}),ne({header:h(()=>[o.$slots.title?b(o.$slots,"title",{key:1}):b(o.$slots,"header",{key:0,close:e($),titleId:e(E),titleClass:e(i).e("title")})]),default:h(()=>[b(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:h(()=>[b(o.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","onClose"])):O("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],46,Te)]),_:3},8,["mask","overlay-class","z-index"]),[[te,e(v)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Se=W(Ie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const ze=Ee(Se);export{ze as E};
