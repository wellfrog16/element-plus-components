import{d as P,A as _,B as b,U as S,e as $,s as Z,k as D,F as q,ay as G,p as H}from"./document.d036075a.js";import{a as K}from"./use-global-config.e2ea1b91.js";import{b as j}from"./index.3eb19322.js";import{g as c,B as I,H as x,a0 as J,I as Q,E as W,aK as F,s as X}from"./app.102c0a36.js";const Y=P({center:Boolean,alignCenter:Boolean,closeIcon:{type:_},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ne={close:()=>!0},ae=P({...Y,appendToBody:Boolean,appendTo:{type:b(String),default:"body"},beforeClose:{type:b(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),se={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[S]:e=>$(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ue=(e,a)=>{var m;const l=W().emit,{nextZIndex:p}=Z();let C="";const T=D(),E=D(),t=c(!1),d=c(!1),i=c(!1),r=c((m=e.zIndex)!=null?m:p());let s,u;const h=K("namespace",H),A=I(()=>{const o={},n=`--${h.value}-dialog`;return e.fullscreen||(e.top&&(o[`${n}-margin-top`]=e.top),e.width&&(o[`${n}-width`]=q(e.width))),o}),O=I(()=>e.alignCenter?{display:"flex"}:{});function k(){l("opened")}function w(){l("closed"),l(S,!1),e.destroyOnClose&&(i.value=!1)}function L(){l("close")}function g(){u==null||u(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=F(()=>B(),e.openDelay):B()}function f(){s==null||s(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=F(()=>v(),e.closeDelay):v()}function y(){function o(n){n||(d.value=!0,t.value=!1)}e.beforeClose?e.beforeClose(o):f()}function N(){e.closeOnClickModal&&y()}function B(){!X||(t.value=!0)}function v(){t.value=!1}function M(){l("openAutoFocus")}function z(){l("closeAutoFocus")}function U(o){var n;((n=o.detail)==null?void 0:n.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&j(t);function V(){e.closeOnPressEscape&&y()}return x(()=>e.modelValue,o=>{o?(d.value=!1,g(),i.value=!0,r.value=G(e.zIndex)?p():r.value++,J(()=>{l("open"),a.value&&(a.value.scrollTop=0)})):t.value&&f()}),x(()=>e.fullscreen,o=>{!a.value||(o?(C=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=C)}),Q(()=>{e.modelValue&&(t.value=!0,i.value=!0,g())}),{afterEnter:k,afterLeave:w,beforeLeave:L,handleClose:y,onModalClick:N,close:f,doClose:v,onOpenAutoFocus:M,onCloseAutoFocus:z,onCloseRequested:V,onFocusoutPrevented:U,titleId:T,bodyId:E,closed:d,style:A,overlayDialogStyle:O,rendered:i,visible:t,zIndex:r}};export{ne as a,ae as b,se as c,Y as d,ue as u};
