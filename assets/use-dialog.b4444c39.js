import{v as j,u as D,ab as O,g as G,d as Z,r as _,e as E,p as k,P as h,o as J,U as N,c as K,j as S,A as Q,aq as X,q as R}from"./document.710a3afc.js";import{J as ee,aM as oe,l as A,G as w,aN as te,N as x,f as le,d as ne,R as T,ai as ae,L as se,g as v,z as I,a0 as ue,E as ce,A as de,aO as P}from"./app.2c247f0d.js";import{g as ie}from"./scroll.cca35ff1.js";const re=e=>{ee(e)||j("[useLockscreen]","You need to pass a ref param to this function");const o=D("popup"),n=oe(()=>o.bm("parent","hidden"));if(!A||O(document.body,n.value))return;let t=0,s=!1,c="0";const l=()=>{setTimeout(()=>{_(document.body,n.value),s&&(document.body.style.width=c)},200)};w(e,d=>{if(!d){l();return}s=!O(document.body,n.value),s&&(c=document.body.style.width),t=ie(o.namespace.value);const a=document.documentElement.clientHeight<document.body.scrollHeight,i=G(document.body,"overflowY");t>0&&(a||i==="scroll")&&s&&(document.body.style.width=`calc(100% - ${t}px)`),Z(document.body,n.value)}),te(()=>l())},fe=e=>{if(!e)return{onClick:x,onMousedown:x,onMouseup:x};let o=!1,n=!1;return{onClick:l=>{o&&n&&e(l),o=n=!1},onMousedown:l=>{o=l.target===l.currentTarget},onMouseup:l=>{n=l.target===l.currentTarget}}},ye=E({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:k([String,Array,Object])},zIndex:{type:k([String,Number])}}),me={click:e=>e instanceof MouseEvent};var ve=le({name:"ElOverlay",props:ye,emits:me,setup(e,{slots:o,emit:n}){const t=D("overlay"),s=a=>{n("click",a)},{onClick:c,onMousedown:l,onMouseup:d}=fe(e.customMaskEvent?void 0:s);return()=>e.mask?ne("div",{class:[t.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:l,onMouseup:d},[T(o,"default")],h.STYLE|h.CLASS|h.PROPS,["onClick","onMouseup","onMousedown"]):ae("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[T(o,"default")])}});const he=ve,pe=E({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:J},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),xe={close:()=>!0},ke=E({...pe,appendToBody:{type:Boolean,default:!1},beforeClose:{type:k(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),we={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[N]:e=>se(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Ee=(e,o)=>{const t=de().emit,{nextZIndex:s}=K();let c="";const l=S(),d=S(),a=v(!1),i=v(!1),y=v(!1),p=v(e.zIndex||s());let r,f;const z=Q("namespace",X),F=I(()=>{const u={},m=`--${z.value}-dialog`;return e.fullscreen||(e.top&&(u[`${m}-margin-top`]=e.top),e.width&&(u[`${m}-width`]=R(e.width))),u}),L=I(()=>e.alignCenter?{display:"flex"}:{});function V(){t("opened")}function $(){t("closed"),t(N,!1),e.destroyOnClose&&(y.value=!1)}function H(){t("close")}function M(){f==null||f(),r==null||r(),e.openDelay&&e.openDelay>0?{stop:r}=P(()=>B(),e.openDelay):B()}function C(){r==null||r(),f==null||f(),e.closeDelay&&e.closeDelay>0?{stop:f}=P(()=>g(),e.closeDelay):g()}function b(){function u(m){m||(i.value=!0,a.value=!1)}e.beforeClose?e.beforeClose(u):C()}function Y(){e.closeOnClickModal&&b()}function B(){!A||(a.value=!0)}function g(){a.value=!1}function q(){t("openAutoFocus")}function U(){t("closeAutoFocus")}e.lockScroll&&re(a);function W(){e.closeOnPressEscape&&b()}return w(()=>e.modelValue,u=>{u?(i.value=!1,M(),y.value=!0,p.value=e.zIndex?p.value++:s(),ue(()=>{t("open"),o.value&&(o.value.scrollTop=0)})):a.value&&C()}),w(()=>e.fullscreen,u=>{!o.value||(u?(c=o.value.style.transform,o.value.style.transform=""):o.value.style.transform=c)}),ce(()=>{e.modelValue&&(a.value=!0,y.value=!0,M())}),{afterEnter:V,afterLeave:$,beforeLeave:H,handleClose:b,onModalClick:Y,close:C,doClose:g,onOpenAutoFocus:q,onCloseAutoFocus:U,onCloseRequested:W,titleId:l,bodyId:d,closed:i,style:F,overlayDialogStyle:L,rendered:y,visible:a,zIndex:p}};export{he as E,xe as a,ke as b,we as c,pe as d,fe as e,Ee as u};
