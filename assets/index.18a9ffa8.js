import{G as se,f as I,A as T,B as v,o as g,c as S,a as k,P as c,X as i,u as e,t as P,d as F,w as u,h as C,a3 as le,a4 as A,Y as z,ad as oe,g as B,O as ae,V as q,W as O,Q as j,as as K,Z as te,a8 as ne,aE as re,H as ie,b as H,D as ue,aF as de,_ as ce}from"./app.a3d32ab8.js";import{q as fe,aq as me,G as ge,_ as U,ar as pe,j as he,as as ve,w as be,a9 as ye,$ as M,at as Ce,au as ke}from"./document.e6cb366c.js";import{u as $e,a as Ee,E as we,H as De}from"./index.58d7b5cd.js";import{E as L}from"./index.7c411af2.js";import{d as Fe,a as Re,b as Be,c as Ae,u as Ie}from"./use-dialog.34405062.js";import{u as N}from"./index.10b47ecb.js";const _e=(...o)=>t=>{o.forEach(r=>{se(r)?r(t):r.value=t})},G=Symbol("dialogInjectionKey"),Se=["aria-level"],Ve=["aria-label"],Te=["id"],He=I({name:"ElDialogContent"}),Me=I({...He,props:Fe,emits:Re,setup(o){const t=o,{t:r}=fe(),{Close:f}=pe,{dialogRef:d,headerRef:p,bodyId:h,ns:a,style:b}=T(G),{focusTrapRef:y}=T(me),$=v(()=>[a.b(),a.is("fullscreen",t.fullscreen),a.is("draggable",t.draggable),a.is("align-center",t.alignCenter),{[a.m("center")]:t.center},t.customClass]),n=_e(y,d),m=v(()=>t.draggable);return $e(d,p,m),(l,E)=>(g(),S("div",{ref:e(n),class:i(e($)),style:z(e(b)),tabindex:"-1"},[k("header",{ref_key:"headerRef",ref:p,class:i(e(a).e("header"))},[c(l.$slots,"header",{},()=>[k("span",{role:"heading","aria-level":l.ariaLevel,class:i(e(a).e("title"))},P(l.title),11,Se)]),l.showClose?(g(),S("button",{key:0,"aria-label":e(r)("el.dialog.close"),class:i(e(a).e("headerbtn")),type:"button",onClick:E[0]||(E[0]=_=>l.$emit("close"))},[F(e(ge),{class:i(e(a).e("close"))},{default:u(()=>[(g(),C(le(l.closeIcon||e(f))))]),_:1},8,["class"])],10,Ve)):A("v-if",!0)],2),k("div",{id:e(h),class:i(e(a).e("body"))},[c(l.$slots,"default")],10,Te),l.$slots.footer?(g(),S("footer",{key:0,class:i(e(a).e("footer"))},[c(l.$slots,"footer")],2)):A("v-if",!0)],6))}});var Le=U(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Ne=["aria-label","aria-labelledby","aria-describedby"],Pe=I({name:"ElDialog",inheritAttrs:!1}),ze=I({...Pe,props:Be,emits:Ae,setup(o,{expose:t}){const r=o,f=oe();N({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},v(()=>!!f.title)),N({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},v(()=>!!r.customClass));const d=he("dialog"),p=B(),h=B(),a=B(),{visible:b,titleId:y,bodyId:$,style:n,overlayDialogStyle:m,rendered:l,zIndex:E,afterEnter:_,afterLeave:Y,beforeLeave:J,handleClose:V,onModalClick:Q,onOpenAutoFocus:W,onCloseAutoFocus:X,onCloseRequested:Z,onFocusoutPrevented:x}=Ie(r,p);ae(G,{dialogRef:p,headerRef:h,bodyId:$,ns:d,rendered:l,style:n});const w=Ee(Q),ee=v(()=>r.draggable&&!r.fullscreen);return t({visible:b,dialogContentRef:a}),(s,D)=>(g(),C(ne,{to:"body",disabled:!s.appendToBody},[F(te,{name:"dialog-fade",onAfterEnter:e(_),onAfterLeave:e(Y),onBeforeLeave:e(J),persisted:""},{default:u(()=>[q(F(e(we),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":e(E)},{default:u(()=>[k("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:e(y),"aria-describedby":e($),class:i(`${e(d).namespace.value}-overlay-dialog`),style:z(e(m)),onClick:D[0]||(D[0]=(...R)=>e(w).onClick&&e(w).onClick(...R)),onMousedown:D[1]||(D[1]=(...R)=>e(w).onMousedown&&e(w).onMousedown(...R)),onMouseup:D[2]||(D[2]=(...R)=>e(w).onMouseup&&e(w).onMouseup(...R))},[F(e(ve),{loop:"",trapped:e(b),"focus-start-el":"container",onFocusAfterTrapped:e(W),onFocusAfterReleased:e(X),onFocusoutPrevented:e(x),onReleaseRequested:e(Z)},{default:u(()=>[e(l)?(g(),C(Le,j({key:0,ref_key:"dialogContentRef",ref:a},s.$attrs,{"custom-class":s.customClass,center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:e(ee),fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:e(V)}),K({header:u(()=>[s.$slots.title?c(s.$slots,"title",{key:1}):c(s.$slots,"header",{key:0,close:e(V),titleId:e(y),titleClass:e(d).e("title")})]),default:u(()=>[c(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:u(()=>[c(s.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):A("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Ne)]),_:3},8,["mask","overlay-class","z-index"]),[[O,e(b)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var qe=U(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Oe=be(qe),je=["id"],Ke=I({__name:"index",props:{modelValue:{type:Boolean,default:!1},title:{default:"\u5BF9\u8BDD\u6846"},showFullscreen:{type:Boolean,default:!0},showDefaultFooter:{type:Boolean,default:!1},lazy:{type:Boolean,default:!0},height:null,maxHeight:null,fullscreenHeight:{default:"calc(100vh - 146px)"},flex:{type:Boolean,default:!1}},emits:["update:modelValue","closed"],setup(o,{emit:t}){const r=o,f=de(),d=v({get:()=>r.modelValue,set:n=>t("update:modelValue",n)}),p=B(!1),h=B(!1),a=re(h),b=v(()=>h.value?Ce:ke),y=v(()=>({[f.scrollbar]:!0,[f.flex]:r.flex}));ie(d,n=>{n&&(p.value=!0)});const $=()=>{p.value=!1,t("closed")};return(n,m)=>p.value||!o.lazy?(g(),C(e(Oe),j({key:0,modelValue:e(d),"onUpdate:modelValue":m[2]||(m[2]=l=>ue(d)?d.value=l:null)},n.$attrs,{"align-center":"","show-close":!1,fullscreen:h.value,class:e(f).main,onClosed:$}),K({header:u(({close:l,titleId:E,titleClass:_})=>[k("div",{class:i(e(f).header)},[k("span",{id:E,class:i([_,e(f).title])},[c(n.$slots,"header",{close:l},()=>[H(P(o.title),1)])],10,je),k("span",{class:i(e(f).buttons)},[q(F(e(L),{icon:e(b),plain:"",onClick:m[0]||(m[0]=()=>e(a)())},null,8,["icon"]),[[O,o.showFullscreen]]),F(e(L),{icon:e(ye),plain:"",onClick:l},null,8,["icon","onClick"])],2)],2)]),default:u(()=>[!h.value&&(o.height||o.maxHeight)?(g(),C(e(M),{key:0,class:i(e(y)),height:o.height,"max-height":o.maxHeight},{default:u(()=>[c(n.$slots,"default")]),_:3},8,["class","height","max-height"])):(g(),C(e(M),{key:1,class:i(e(y)),"max-height":o.fullscreenHeight},{default:u(()=>[c(n.$slots,"default")]),_:3},8,["class","max-height"]))]),_:2},[o.showDefaultFooter||n.$slots.footer?{name:"footer",fn:u(()=>[c(n.$slots,"footer",{},()=>[o.showDefaultFooter?(g(),C(De,{key:0,onClick:m[1]||(m[1]=l=>d.value=!1)},{default:u(()=>[H("\u5173\u95ED")]),_:1})):A("v-if",!0)])]),key:"0"}:void 0]),1040,["modelValue","fullscreen","class"])):A("v-if",!0)}}),Ue="_main_um8p3_1",Ge="_header_um8p3_19",Ye="_title_um8p3_29",Je="_scrollbar_um8p3_34",Qe="_flex_um8p3_42",We="_buttons_um8p3_47",Xe={main:Ue,header:Ge,title:Ye,scrollbar:Je,flex:Qe,buttons:We},Ze={$style:Xe},ts=ce(Ke,[["__cssModules",Ze],["__file","index.vue"]]);export{ts as H};
