import{_ as O,e as V,r as s,f as g,g as S,h as N,n as W,o,c as v,i as q,w as T,j as r,d as c,t as p,b as j,k as f,l as x,u,m as k}from"./app.31385c8e.js";import{E as z}from"./index.f6b487de.js";const H="_main_eqh40_1",A="_ellipsis_eqh40_7",D="_text_eqh40_13";var P={main:H,ellipsis:A,text:D};const X=V({__name:"index",props:{type:{type:String,default:"single"},effect:{type:String,default:"dark"},placement:{type:String,default:"top"},content:{type:String,default:""},popperOptions:{type:Object,default:()=>({boundariesElement:"body",gpuAcceleration:!1})},popperClass:{type:String,default:""},enterable:{type:Boolean,default:!0},maxWidth:{type:Number,default:0},showTooltip:{type:Boolean,default:!0}},setup(t){const a=t,i=s(!1),d=s(!1),m=s(0),w=s(),y=s(),n=s(),E=g(()=>a.maxWidth?{width:`${a.maxWidth}px`}:{}),b=g(()=>({width:`${m.value}px`})),B=()=>new Promise(e=>{i.value=!0,d.value=!0,W(()=>{var l,$;if(y.value&&n.value){const C=(l=y.value)==null?void 0:l.offsetWidth,M=a.maxWidth||(($=n.value)==null?void 0:$.offsetWidth);e(C>M)}else e(!1)})}),h=async()=>{var l;const e=await B();i.value=e,d.value=!e,m.value=((l=w.value)==null?void 0:l.clientWidth)||0};return S(a,()=>h(),{immediate:!0}),S(m,()=>h()),N(()=>W(()=>h())),(e,l)=>(o(),v("div",{ref_key:"eleMain",ref:w,class:f(e.$style.main),style:x(u(E))},[i.value&&t.showTooltip?(o(),q(u(z),{key:0,effect:t.effect,placement:t.placement,"popper-class":t.popperClass,"popper-options":t.popperOptions,enterable:t.enterable},{content:T(()=>[r(e.$slots,"default",{},()=>[c(p(t.content),1)])]),default:T(()=>[j("div",{ref_key:"eleEllipsis",ref:n,class:f(e.$style.ellipsis),style:x(u(b))},[r(e.$slots,"default",{},()=>[c(p(t.content),1)])],6)]),_:3},8,["effect","placement","popper-class","popper-options","enterable"])):k("",!0),i.value&&!t.showTooltip?(o(),v("div",{key:1,ref_key:"eleEllipsis",ref:n,class:f(e.$style.ellipsis),style:x(u(b))},[r(e.$slots,"default",{},()=>[c(p(t.content),1)])],6)):k("",!0),d.value?(o(),v("div",{key:2,ref_key:"eleText",ref:y,class:f(e.$style.text)},[r(e.$slots,"default",{},()=>[c(p(t.content),1)])],2)):k("",!0)],6))}}),F={$style:P};var J=O(X,[["__cssModules",F],["__file","index.vue"]]);export{J as H};
