import{E as f,W as ea,D as sa}from"./document.f7ed7038.js";import{f as w,g as r,E as na,o as i,h as m,w as l,c as j,an as ta,u as n,F as la,d as c,V as q,b as A,t as b,Z as U,c7 as P,a0 as _,aw as z,G as ua,a8 as oa,_ as C,a as H,e as G}from"./app.8dd14888.js";import{D as pa}from"./vuedraggable.umd.8767e9ae.js";import{H as ra}from"./index.d64daf0b.js";import{E as K}from"./index.65999f2d.js";import{E as M}from"./index.f5e031f8.js";import{E as W}from"./index.adea1e1a.js";import{E as ia}from"./index.d5b6a685.js";import{E as ca}from"./index.e65f2a8b.js";import"./index.0b1853ef.js";import"./index.355b45a7.js";import"./index.a08fd3e1.js";import"./index.9ea457c9.js";import"./isBoolean.0439bfc3.js";import"./index.10e71e0e.js";import"./index.2fc7c2fd.js";import"./use-global-config.ea394ac6.js";import"./index.c70b3b25.js";import"./scroll.6c7ea0ea.js";import"./aria.ff564609.js";import"./validator.905ab3fe.js";import"./typescript.72bf8adc.js";import"./index.0b0e9f31.js";const da=w({__name:"index",props:{modelValue:{type:Array,required:!0,default:()=>[]},regexp:{type:RegExp,default:/\S+/},errorMessage:{type:String,default:""},readonly:{type:Boolean,default:!1},valueFormat:{type:Function,default:v=>v}},emits:["update:modelValue","change"],setup(v,{emit:u}){const p=v,h="\u540D\u79F0\u91CD\u590D\u4E86",k=r(!1),d=r(!1),e=r(""),o=r(""),V=r(""),E=r(),F=r(),L=r(),O=r(),y=r(),g=na({get(){return p.modelValue.map(a=>({name:a,editVisible:a===o.value}))},set(a){const s=a.map(t=>p.valueFormat(t.name||t));u("update:modelValue",s)}}),Z=a=>{e.value=a,o.value=a},T=a=>{const s=[...p.modelValue];s.splice(s.indexOf(a),1),g.value=s,u("change",s)},$=a=>p.modelValue.includes(a)&&o.value!==a,J=a=>p.regexp.test(a),I=a=>!$(a)&&J(a),D=()=>{k.value=!1,V.value="",clearTimeout(F.value)},S=()=>{var a;clearTimeout(F.value),$(e.value)&&(V.value=h),k.value=!0,(a=E.value)==null||a.focus(),F.value=setTimeout(()=>D(),3e3)},Q=({target:a})=>{if(y.value=a,e.value=e.value.trim(),e.value===""){T(o.value);return}if(E.value=a,!I(e.value)){S();return}const s=g.value.map(t=>t.name===o.value?e.value:t.name);o.value="",g.value=s,u("change",s)},X=()=>{D(),e.value=o.value},N=()=>{e.value="",d.value=!0},Y=({target:a})=>{if(y.value=a,e.value=e.value.trim(),e.value===""){d.value=!1;return}if(E.value=a,!I(e.value)){S();return}const s=[...p.modelValue,e.value];d.value=!1,g.value=s,u("change",s),setTimeout(()=>N(),0)},aa=()=>{D(),d.value=!1,e.value=""},R=({target:a})=>{if(!a)return;y.value=a,a.blur()};return(a,s)=>v.readonly?(i(),m(n(K),{key:0,wrap:""},{default:l(()=>[(i(!0),j(la,null,ta(n(g),t=>(i(),m(n(M),q({key:t.name},a.$attrs),{default:l(()=>[A(b(t.name),1)]),_:2},1040))),128))]),_:1})):(i(),m(n(K),{key:1,wrap:""},{default:l(()=>[c(n(pa),{modelValue:n(g),"onUpdate:modelValue":s[2]||(s[2]=t=>ua(g)?g.value=t:null),"drag-class":"el-tag--success",class:_(a.$style.draggable),tag:"span","item-key":"name",animation:"400"},{item:l(({element:t})=>[t.editVisible?U((i(),m(n(W),{key:1,modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=B=>e.value=B),size:"small",clearable:"",class:_(a.$style.input),onClear:X,onKeyup:z(R,["enter"]),onBlur:Q},null,8,["modelValue","class","onKeyup"])),[[n(P)]]):(i(),m(n(M),q({key:0,closable:"",class:a.$style.tag},a.$attrs,{onClose:B=>T(t.name),onDblclick:B=>Z(t.name)}),{default:l(()=>[A(b(t.name),1)]),_:2},1040,["class","onClose","onDblclick"]))]),footer:l(()=>[d.value?U((i(),m(n(W),{key:0,ref_key:"createRef",ref:O,modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=t=>e.value=t),size:"small",clearable:"",class:_(a.$style.input),onClear:aa,onKeyup:z(R,["enter"]),onBlur:Y},null,8,["modelValue","class","onKeyup"])),[[n(P)]]):(i(),m(ra,{key:1,size:"small",icon:{name:"Plus"},onClick:N}))]),_:1},8,["modelValue","class"]),k.value?(i(),m(n(ia),{key:0,ref_key:"popoverRef",ref:L,"virtual-ref":y.value,visible:k.value,placement:"bottom"},{default:l(()=>[c(n(ca),{type:"error",closable:!1,class:_(a.$style.alert)},{default:l(()=>[A(b(V.value||v.errorMessage),1)]),_:1},8,["class"])]),_:1},8,["virtual-ref","visible"])):oa("v-if",!0)]),_:1}))}}),ma="_input_1tp7v_1",va="_draggable_1tp7v_5",ga="_alert_1tp7v_17",ka={input:ma,draggable:va,alert:ga},fa={$style:ka},x=C(da,[["__cssModules",fa],["__file","index.vue"]]),ba=w({__name:"example",setup(v){const u=r(["\u5C0F\u9F99\u867E","\u6BDB\u8840\u65FA","\u5241\u6912\u9C7C\u5934","\u51B0\u6FC0\u51CC"]),p=r([111,222,333,444]),h=d=>parseInt(d),k=d=>{console.log(d)};return(d,e)=>(i(),m(ea,null,{default:l(()=>[c(n(f),{label:"\u5C55\u793A\u533A"},{default:l(()=>[c(x,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=o=>u.value=o),onChange:k},null,8,["modelValue"])]),_:1}),c(n(f),{label:"\u7ED3\u679C"},{default:l(()=>[H("span",null,b(u.value),1)]),_:1}),c(n(f),{label:"\u5C55\u793A\u533A\uFF1A\u53EA\u80FD\u662F\u6570\u5B57"},{default:l(()=>[c(x,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=o=>p.value=o),regexp:/^\d+$/,"value-format":h,"error-message":"\u53EA\u80FD\u8F93\u5165\u6570\u5B57",onChange:k},null,8,["modelValue"])]),_:1}),c(n(f),{label:"\u7ED3\u679C"},{default:l(()=>[H("span",null,b(p.value),1)]),_:1}),c(n(f),{label:"\u53EA\u8BFB\u5C55\u793A"},{default:l(()=>[c(x,{modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=o=>u.value=o),readonly:""},null,8,["modelValue"])]),_:1})]),_:1}))}}),ha=C(ba,[["__file","example.vue"]]),ya=w({__name:"usage",setup(v){const u={params:[{param:"*v-model",description:"\u7ED1\u5B9A\u503C",type:"string[]",defaultValue:"[]"},{param:"regexp",description:"tag\u503C\u7684\u6821\u9A8C\u89C4\u5219",type:"RegExp",defaultValue:"/\\S+/"},{param:"error-message",description:"\u6821\u9A8C\u9519\u8BEF\u7684\u63D0\u793A",type:"string",defaultValue:""},{param:"readonly",description:"\u53EA\u8BFB\u6A21\u5F0F",type:"boolean",defaultValue:!1},{param:"value-format",description:"\u7ED3\u679C\u683C\u5F0F\u5316",type:"(val: string | number) => string | number",defaultValue:"val=>val"},{param:"\u5176\u4ED6",description:"el-tag \u7684\u5C5E\u6027",type:"https://element-plus.gitee.io/zh-CN/component/tag.html#tag-attributes"}],events:[{name:"change",description:"\u503C\u66F4\u65B0\u65F6\u89E6\u53D1\uFF0C\u6CE8\u610F\uFF1A\u975E\u53D8\u5316\uFF0C\u53EA\u8981\u66F4\u65B0\u5C31\u89E6\u53D1",param:"\u66F4\u65B0\u540E\u7684\u503C"}]};return(p,h)=>(i(),m(sa,{data:u}))}}),_a=C(ya,[["__file","usage.vue"]]),Ca=G('<h2 id="\u529F\u80FD" tabindex="-1"><a class="header-anchor" href="#\u529F\u80FD" aria-hidden="true">#</a> \u529F\u80FD</h2><p>\u57FA\u4E8E el-tag\uFF0C\u7528\u4E8E\u6807\u7B7E\u7EC4\u7684\u7F16\u8F91\uFF0C\u53EF\u4EE5<strong>\u62D6\u62FD</strong>\u6392\u5E8F</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u6B64\u7EC4\u4EF6\u4F9D\u8D56 vuedraggable-es\uFF0C\u4F7F\u7528\u65F6\u9700\u8981</p><p>npm i vuedraggable-es@^4.1.1</p></div><h2 id="\u529F\u80FD\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u529F\u80FD\u793A\u4F8B" aria-hidden="true">#</a> \u529F\u80FD\u793A\u4F8B</h2>',4),Va=G(`<h2 id="\u6700\u5C0F\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#\u6700\u5C0F\u793A\u4F8B" aria-hidden="true">#</a> \u6700\u5C0F\u793A\u4F8B</h2><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Wrapper</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HTags</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>result<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Wrapper</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Wrapper <span class="token keyword">from</span> <span class="token string">&#39;@/components/simple-wrapper.vue&#39;</span>
<span class="token keyword">import</span> HTags <span class="token keyword">from</span> <span class="token string">&#39;../index.vue&#39;</span>

<span class="token keyword">const</span> result <span class="token operator">=</span> ref<span class="token operator">&lt;</span>string<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;\u5C0F\u9F99\u867E&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u6BDB\u8840\u65FA&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u5241\u6912\u9C7C\u5934&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;\u51B0\u6FC0\u51CC&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><div class="highlight-line">\xA0</div><br><br><br><br><br><br><br><br><div class="highlight-line">\xA0</div><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> API</h2>`,3),Ea={__name:"tags.html",setup(v){return(u,p)=>(i(),j("div",null,[Ca,c(ha),Va,c(_a)]))}},Oa=C(Ea,[["__file","tags.html.vue"]]);export{Oa as default};
