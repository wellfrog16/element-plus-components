import{I as W,f as I,D as _,E as v,o as h,c as S,a as y,U as u,a0 as i,u as e,t as j,d as $,w as d,h as F,a7 as x,a8 as B,a1 as z,ai as ee,g as D,R as se,Z as N,$ as P,V as H,ay as oe,a2 as le,ad as ae,aL as te,J as ne,b as re,G as ie,_ as de}from"./app.0bb1a7b5.js";import{o as ue,al as ce,B as fe,_ as U,am as me,h as ge,an as pe,w as he,a5 as ve,X as ye,ao as be,ap as Ce}from"./document.a03dcdd3.js";import{E as L}from"./index.50ebb2bb.js";import{u as $e,a as ke,E as Ee}from"./index.87dcf460.js";import{d as Re,a as we,b as De,c as Fe,u as Ie}from"./use-dialog.cf35c3bb.js";import{u as M}from"./index.0907e685.js";const Ae=(...a)=>t=>{a.forEach(n=>{W(n)?n(t):n.value=t})},K=Symbol("dialogInjectionKey"),Be=["aria-level"],Se=["aria-label"],Te=["id"],Ve=I({name:"ElDialogContent"}),_e=I({...Ve,props:Re,emits:we,setup(a){const t=a,{t:n}=ue(),{Close:p}=me,{dialogRef:c,headerRef:f,bodyId:k,ns:l,style:o}=_(K),{focusTrapRef:m}=_(ce),g=v(()=>[l.b(),l.is("fullscreen",t.fullscreen),l.is("draggable",t.draggable),l.is("align-center",t.alignCenter),{[l.m("center")]:t.center},t.customClass]),E=Ae(m,c),R=v(()=>t.draggable);return $e(c,f,R),(r,A)=>(h(),S("div",{ref:e(E),class:i(e(g)),style:z(e(o)),tabindex:"-1"},[y("header",{ref_key:"headerRef",ref:f,class:i(e(l).e("header"))},[u(r.$slots,"header",{},()=>[y("span",{role:"heading","aria-level":r.ariaLevel,class:i(e(l).e("title"))},j(r.title),11,Be)]),r.showClose?(h(),S("button",{key:0,"aria-label":e(n)("el.dialog.close"),class:i(e(l).e("headerbtn")),type:"button",onClick:A[0]||(A[0]=T=>r.$emit("close"))},[$(e(fe),{class:i(e(l).e("close"))},{default:d(()=>[(h(),F(x(r.closeIcon||e(p))))]),_:1},8,["class"])],10,Se)):B("v-if",!0)],2),y("div",{id:e(k),class:i(e(l).e("body"))},[u(r.$slots,"default")],10,Te),r.$slots.footer?(h(),S("footer",{key:0,class:i(e(l).e("footer"))},[u(r.$slots,"footer")],2)):B("v-if",!0)],6))}});var Le=U(_e,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Me=["aria-label","aria-labelledby","aria-describedby"],je=I({name:"ElDialog",inheritAttrs:!1}),ze=I({...je,props:De,emits:Fe,setup(a,{expose:t}){const n=a,p=ee();M({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},v(()=>!!p.title)),M({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},v(()=>!!n.customClass));const c=ge("dialog"),f=D(),k=D(),l=D(),{visible:o,titleId:m,bodyId:g,style:E,overlayDialogStyle:R,rendered:r,zIndex:A,afterEnter:T,afterLeave:O,beforeLeave:q,handleClose:V,onModalClick:J,onOpenAutoFocus:G,onCloseAutoFocus:X,onCloseRequested:Y,onFocusoutPrevented:Z}=Ie(n,f);se(K,{dialogRef:f,headerRef:k,bodyId:g,ns:c,rendered:r,style:E});const b=ke(J),Q=v(()=>n.draggable&&!n.fullscreen);return t({visible:o,dialogContentRef:l}),(s,C)=>(h(),F(ae,{to:"body",disabled:!s.appendToBody},[$(le,{name:"dialog-fade",onAfterEnter:e(T),onAfterLeave:e(O),onBeforeLeave:e(q),persisted:""},{default:d(()=>[N($(e(Ee),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":e(A)},{default:d(()=>[y("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:e(m),"aria-describedby":e(g),class:i(`${e(c).namespace.value}-overlay-dialog`),style:z(e(R)),onClick:C[0]||(C[0]=(...w)=>e(b).onClick&&e(b).onClick(...w)),onMousedown:C[1]||(C[1]=(...w)=>e(b).onMousedown&&e(b).onMousedown(...w)),onMouseup:C[2]||(C[2]=(...w)=>e(b).onMouseup&&e(b).onMouseup(...w))},[$(e(pe),{loop:"",trapped:e(o),"focus-start-el":"container",onFocusAfterTrapped:e(G),onFocusAfterReleased:e(X),onFocusoutPrevented:e(Z),onReleaseRequested:e(Y)},{default:d(()=>[e(r)?(h(),F(Le,H({key:0,ref_key:"dialogContentRef",ref:l},s.$attrs,{"custom-class":s.customClass,center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:e(Q),fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:e(V)}),oe({header:d(()=>[s.$slots.title?u(s.$slots,"title",{key:1}):u(s.$slots,"header",{key:0,close:e(V),titleId:e(m),titleClass:e(c).e("title")})]),default:d(()=>[u(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:d(()=>[u(s.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):B("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Me)]),_:3},8,["mask","overlay-class","z-index"]),[[P,e(o)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ne=U(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Pe=he(Ne),He=["id"],Ue=I({__name:"index",props:{modelValue:{type:Boolean,default:!1},title:{default:"\u5BF9\u8BDD\u6846"},showFullscreen:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0},destoryDelay:{default:300},height:null,maxHeight:null},emits:["update:modelValue"],setup(a,{emit:t}){const n=a,p=v({get:()=>n.modelValue,set:o=>t("update:modelValue",o)}),c=D(!1),f=D(!1),k=te(f),l=v(()=>f.value?be:Ce);return ne(p,o=>{o?c.value=!0:setTimeout(()=>{c.value=!1},n.destoryDelay)}),(o,m)=>c.value||!a.lazy?(h(),F(e(Pe),H({key:0,modelValue:e(p),"onUpdate:modelValue":m[1]||(m[1]=g=>ie(p)?p.value=g:null)},o.$attrs,{"align-center":"","show-close":!1,fullscreen:f.value,class:o.$style.main}),{header:d(({close:g,titleId:E,titleClass:R})=>[y("div",{class:i(o.$style.header)},[y("span",{id:E,class:i([R,o.$style.title])},[u(o.$slots,"header",{close:g},()=>[re(j(a.title),1)])],10,He),y("span",{class:i(o.$style.buttons)},[N($(e(L),{icon:e(l),plain:"",onClick:m[0]||(m[0]=()=>e(k)())},null,8,["icon"]),[[P,a.showFullscreen]]),$(e(L),{icon:e(ve),plain:"",onClick:g},null,8,["icon","onClick"])],2)],2)]),default:d(()=>[a.height||a.maxHeight?(h(),F(e(ye),{key:0,height:a.height,"max-height":a.maxHeight},{default:d(()=>[u(o.$slots,"default")]),_:3},8,["height","max-height"])):u(o.$slots,"default",{key:1})]),footer:d(()=>[u(o.$slots,"footer")]),_:3},16,["modelValue","fullscreen","class"])):B("v-if",!0)}}),Ke="_main_14cjg_1",Oe="_header_14cjg_19",qe="_title_14cjg_29",Je="_buttons_14cjg_34",Ge={main:Ke,header:Oe,title:qe,buttons:Je},Xe={$style:Ge},ss=de(Ue,[["__cssModules",Xe],["__file","index.vue"]]);export{ss as H};
