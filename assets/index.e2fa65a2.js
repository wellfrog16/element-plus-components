import{I as x,f as I,D as L,E as v,o as p,c as S,a as y,U as u,a0 as d,u as e,t as z,d as $,w as i,h as k,a7 as ee,a8 as B,a1 as H,ai as se,g as F,R as oe,Z as N,$ as P,V as U,ay as le,a2 as ae,ad as te,aL as ne,J as re,b as ie,G as de,_ as ue}from"./app.2f0c0fdb.js";import{o as ce,al as fe,B as me,_ as K,am as ge,h as pe,an as he,w as ve,a5 as ye,X as _,ao as be,ap as Ce}from"./document.6b81ac63.js";import{E as M}from"./index.217b48fd.js";import{u as $e,a as ke,E as Ee}from"./index.0e8cea58.js";import{d as Re,a as we,b as De,c as Fe,u as Ie}from"./use-dialog.b352513c.js";import{u as j}from"./index.e213c165.js";const Ae=(...a)=>t=>{a.forEach(n=>{x(n)?n(t):n.value=t})},O=Symbol("dialogInjectionKey"),Be=["aria-level"],Se=["aria-label"],Te=["id"],Ve=I({name:"ElDialogContent"}),Le=I({...Ve,props:Re,emits:we,setup(a){const t=a,{t:n}=ce(),{Close:h}=ge,{dialogRef:c,headerRef:f,bodyId:E,ns:l,style:o}=L(O),{focusTrapRef:m}=L(fe),g=v(()=>[l.b(),l.is("fullscreen",t.fullscreen),l.is("draggable",t.draggable),l.is("align-center",t.alignCenter),{[l.m("center")]:t.center},t.customClass]),R=Ae(m,c),w=v(()=>t.draggable);return $e(c,f,w),(r,A)=>(p(),S("div",{ref:e(R),class:d(e(g)),style:H(e(o)),tabindex:"-1"},[y("header",{ref_key:"headerRef",ref:f,class:d(e(l).e("header"))},[u(r.$slots,"header",{},()=>[y("span",{role:"heading","aria-level":r.ariaLevel,class:d(e(l).e("title"))},z(r.title),11,Be)]),r.showClose?(p(),S("button",{key:0,"aria-label":e(n)("el.dialog.close"),class:d(e(l).e("headerbtn")),type:"button",onClick:A[0]||(A[0]=T=>r.$emit("close"))},[$(e(me),{class:d(e(l).e("close"))},{default:i(()=>[(p(),k(ee(r.closeIcon||e(h))))]),_:1},8,["class"])],10,Se)):B("v-if",!0)],2),y("div",{id:e(E),class:d(e(l).e("body"))},[u(r.$slots,"default")],10,Te),r.$slots.footer?(p(),S("footer",{key:0,class:d(e(l).e("footer"))},[u(r.$slots,"footer")],2)):B("v-if",!0)],6))}});var _e=K(Le,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Me=["aria-label","aria-labelledby","aria-describedby"],je=I({name:"ElDialog",inheritAttrs:!1}),ze=I({...je,props:De,emits:Fe,setup(a,{expose:t}){const n=a,h=se();j({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},v(()=>!!h.title)),j({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},v(()=>!!n.customClass));const c=pe("dialog"),f=F(),E=F(),l=F(),{visible:o,titleId:m,bodyId:g,style:R,overlayDialogStyle:w,rendered:r,zIndex:A,afterEnter:T,afterLeave:q,beforeLeave:J,handleClose:V,onModalClick:G,onOpenAutoFocus:X,onCloseAutoFocus:Y,onCloseRequested:Z,onFocusoutPrevented:Q}=Ie(n,f);oe(O,{dialogRef:f,headerRef:E,bodyId:g,ns:c,rendered:r,style:R});const b=ke(G),W=v(()=>n.draggable&&!n.fullscreen);return t({visible:o,dialogContentRef:l}),(s,C)=>(p(),k(te,{to:"body",disabled:!s.appendToBody},[$(ae,{name:"dialog-fade",onAfterEnter:e(T),onAfterLeave:e(q),onBeforeLeave:e(J),persisted:""},{default:i(()=>[N($(e(Ee),{"custom-mask-event":"",mask:s.modal,"overlay-class":s.modalClass,"z-index":e(A)},{default:i(()=>[y("div",{role:"dialog","aria-modal":"true","aria-label":s.title||void 0,"aria-labelledby":s.title?void 0:e(m),"aria-describedby":e(g),class:d(`${e(c).namespace.value}-overlay-dialog`),style:H(e(w)),onClick:C[0]||(C[0]=(...D)=>e(b).onClick&&e(b).onClick(...D)),onMousedown:C[1]||(C[1]=(...D)=>e(b).onMousedown&&e(b).onMousedown(...D)),onMouseup:C[2]||(C[2]=(...D)=>e(b).onMouseup&&e(b).onMouseup(...D))},[$(e(he),{loop:"",trapped:e(o),"focus-start-el":"container",onFocusAfterTrapped:e(X),onFocusAfterReleased:e(Y),onFocusoutPrevented:e(Q),onReleaseRequested:e(Z)},{default:i(()=>[e(r)?(p(),k(_e,U({key:0,ref_key:"dialogContentRef",ref:l},s.$attrs,{"custom-class":s.customClass,center:s.center,"align-center":s.alignCenter,"close-icon":s.closeIcon,draggable:e(W),fullscreen:s.fullscreen,"show-close":s.showClose,title:s.title,"aria-level":s.headerAriaLevel,onClose:e(V)}),le({header:i(()=>[s.$slots.title?u(s.$slots,"title",{key:1}):u(s.$slots,"header",{key:0,close:e(V),titleId:e(m),titleClass:e(c).e("title")})]),default:i(()=>[u(s.$slots,"default")]),_:2},[s.$slots.footer?{name:"footer",fn:i(()=>[u(s.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):B("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Me)]),_:3},8,["mask","overlay-class","z-index"]),[[P,e(o)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var He=K(ze,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Ne=ve(He),Pe=["id"],Ue=I({__name:"index",props:{modelValue:{type:Boolean,default:!1},title:{default:"\u5BF9\u8BDD\u6846"},showFullscreen:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0},destoryDelay:{default:300},height:null,maxHeight:null,fullscreenHeight:{default:"calc(100vh - 146px)"}},emits:["update:modelValue"],setup(a,{emit:t}){const n=a,h=v({get:()=>n.modelValue,set:o=>t("update:modelValue",o)}),c=F(!1),f=F(!1),E=ne(f),l=v(()=>f.value?be:Ce);return re(h,o=>{o?c.value=!0:setTimeout(()=>{c.value=!1},n.destoryDelay)}),(o,m)=>c.value||!a.lazy?(p(),k(e(Ne),U({key:0,modelValue:e(h),"onUpdate:modelValue":m[1]||(m[1]=g=>de(h)?h.value=g:null)},o.$attrs,{"align-center":"","show-close":!1,fullscreen:f.value,class:o.$style.main}),{header:i(({close:g,titleId:R,titleClass:w})=>[y("div",{class:d(o.$style.header)},[y("span",{id:R,class:d([w,o.$style.title])},[u(o.$slots,"header",{close:g},()=>[ie(z(a.title),1)])],10,Pe),y("span",{class:d(o.$style.buttons)},[N($(e(M),{icon:e(l),plain:"",onClick:m[0]||(m[0]=()=>e(E)())},null,8,["icon"]),[[P,a.showFullscreen]]),$(e(M),{icon:e(ye),plain:"",onClick:g},null,8,["icon","onClick"])],2)],2)]),default:i(()=>[!f.value&&(a.height||a.maxHeight)?(p(),k(e(_),{key:0,height:a.height,"max-height":a.maxHeight},{default:i(()=>[u(o.$slots,"default")]),_:3},8,["height","max-height"])):(p(),k(e(_),{key:1,"max-height":a.fullscreenHeight},{default:i(()=>[u(o.$slots,"default")]),_:3},8,["max-height"]))]),footer:i(()=>[u(o.$slots,"footer")]),_:3},16,["modelValue","fullscreen","class"])):B("v-if",!0)}}),Ke="_main_14cjg_1",Oe="_header_14cjg_19",qe="_title_14cjg_29",Je="_buttons_14cjg_34",Ge={main:Ke,header:Oe,title:qe,buttons:Je},Xe={$style:Ge},ss=ue(Ue,[["__cssModules",Xe],["__file","index.vue"]]);export{ss as H};
