import{Y as O}from"./document.f7ed7038.js";import{f as V,g as a,E as v,J as C,K as A,a4 as W,o as u,c as x,a8 as o,h as N,w as g,U as p,b as c,t as r,a as q,a0 as f,a1 as $,u as d,_ as z}from"./app.8dd14888.js";const H=V({__name:"index",props:{type:{type:String,default:"single"},effect:{type:String,default:"dark"},placement:{type:String,default:"top"},content:{type:String,default:""},popperOptions:{type:Object,default:()=>({boundariesElement:"body",gpuAcceleration:!1})},popperClass:{type:String,default:""},enterable:{type:Boolean,default:!0},maxWidth:{type:Number,default:0},showTooltip:{type:Boolean,default:!0}},setup(t,{expose:S}){const s=t,i=a(!1),m=a(!1),y=a(0),w=a(),h=a(),n=a(),T=v(()=>s.maxWidth?{width:`${s.maxWidth}px`}:{}),b=v(()=>({width:`${y.value}px`})),F=()=>new Promise(e=>{i.value=!0,m.value=!0,W(()=>{var l,k;if(h.value&&n.value){const D=(l=h.value)==null?void 0:l.offsetWidth,M=s.maxWidth||((k=n.value)==null?void 0:k.offsetWidth);e(D>M)}else e(!1)})}),E=async()=>{var l;const e=await F();i.value=e,m.value=!e,y.value=((l=w.value)==null?void 0:l.clientWidth)||0},B=v(()=>`${s.content}${s.maxWidth}${s.popperClass}`);return C(B,()=>E(),{immediate:!0}),C(y,()=>E()),A(()=>W(()=>E())),S({tipsVisible:i}),(e,l)=>(u(),x("div",{ref_key:"eleMain",ref:w,class:f(e.$style.main),style:$(d(T))},[o(" \u663E\u793Atooltip\u5E76\u4E14tips\u53EF\u89C1\uFF0C\u4E0D\u7528disable\u53EF\u4EE5\u907F\u514D\u6E32\u67D3tooltip "),i.value&&t.showTooltip?(u(),N(d(O),{key:0,effect:t.effect,placement:t.placement,"popper-class":t.popperClass,"popper-options":t.popperOptions,enterable:t.enterable},{content:g(()=>[p(e.$slots,"default",{},()=>[c(r(t.content),1)])]),default:g(()=>[q("div",{ref_key:"eleEllipsis",ref:n,class:f(e.$style.ellipsis),style:$(d(b))},[p(e.$slots,"default",{},()=>[c(r(t.content),1)])],6)]),_:3},8,["effect","placement","popper-class","popper-options","enterable"])):o("v-if",!0),o(" \u663E\u793Atooltip\u5E76\u4E14tips\u4E0D\u53EF\u89C1\uFF0C\u4EC5\u663E\u793A\u6587\u6848 "),i.value&&!t.showTooltip?(u(),x("div",{key:1,ref_key:"eleEllipsis",ref:n,class:f(e.$style.ellipsis),style:$(d(b))},[p(e.$slots,"default",{},()=>[c(r(t.content),1)])],6)):o("v-if",!0),m.value?(u(),x("div",{key:2,ref_key:"eleText",ref:h,class:f(e.$style.text)},[p(e.$slots,"default",{},()=>[c(r(t.content),1)])],2)):o("v-if",!0)],6))}}),j="_main_eqh40_1",J="_ellipsis_eqh40_7",K="_text_eqh40_13",P={main:j,ellipsis:J,text:K},U={$style:P},G=z(H,[["__cssModules",U],["__file","index.vue"]]);export{G as H};
