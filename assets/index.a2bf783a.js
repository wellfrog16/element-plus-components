import{I as W,K as J,aq as Z,O as G,f as T,D as K,E as $,o as k,c as z,a as I,U as b,a0 as m,u as e,t as Q,d as R,w as h,h as U,a7 as x,a8 as q,a1 as _,ai as ee,g as N,R as oe,Z as se,$ as te,V as ae,az as le,a2 as ne,ad as re}from"./app.b12c36a8.js";import{d as ie,a as de,b as ce,c as ue,u as me,e as fe,E as pe}from"./use-dialog.50e1795c.js";import{A as O,o as ge,ao as ve,B as he,_ as j,ap as be,h as ye,aq as Ce,w as Ee}from"./document.cdfca6ca.js";import{u as V}from"./index.c1a5335a.js";const ke=(...n)=>t=>{n.forEach(l=>{W(l)?l(t):l.value=t})},we=(n,t,l)=>{let y={offsetX:0,offsetY:0};const r=s=>{const p=s.clientX,E=s.clientY,{offsetX:c,offsetY:g}=y,u=n.value.getBoundingClientRect(),a=u.left,v=u.top,L=u.width,F=u.height,S=document.documentElement.clientWidth,D=document.documentElement.clientHeight,B=-a+c,Y=-v+g,P=S-a-L+c,X=D-v-F+g,A=M=>{const o=Math.min(Math.max(c+M.clientX-p,B),P),d=Math.min(Math.max(g+M.clientY-E,Y),X);y={offsetX:o,offsetY:d},n.value&&(n.value.style.transform=`translate(${O(o)}, ${O(d)})`)},i=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",i)},f=()=>{t.value&&n.value&&t.value.addEventListener("mousedown",r)},C=()=>{t.value&&n.value&&t.value.removeEventListener("mousedown",r)};J(()=>{Z(()=>{l.value?f():C()})}),G(()=>{C()})},H=Symbol("dialogInjectionKey"),$e=["aria-level"],Le=["aria-label"],De=["id"],Ae=T({name:"ElDialogContent"}),Me=T({...Ae,props:ie,emits:de,setup(n){const t=n,{t:l}=ge(),{Close:y}=be,{dialogRef:r,headerRef:f,bodyId:C,ns:s,style:p}=K(H),{focusTrapRef:E}=K(ve),c=$(()=>[s.b(),s.is("fullscreen",t.fullscreen),s.is("draggable",t.draggable),s.is("align-center",t.alignCenter),{[s.m("center")]:t.center},t.customClass]),g=ke(E,r),u=$(()=>t.draggable);return we(r,f,u),(a,v)=>(k(),z("div",{ref:e(g),class:m(e(c)),style:_(e(p)),tabindex:"-1"},[I("header",{ref_key:"headerRef",ref:f,class:m(e(s).e("header"))},[b(a.$slots,"header",{},()=>[I("span",{role:"heading","aria-level":a.ariaLevel,class:m(e(s).e("title"))},Q(a.title),11,$e)]),a.showClose?(k(),z("button",{key:0,"aria-label":e(l)("el.dialog.close"),class:m(e(s).e("headerbtn")),type:"button",onClick:v[0]||(v[0]=L=>a.$emit("close"))},[R(e(he),{class:m(e(s).e("close"))},{default:h(()=>[(k(),U(x(a.closeIcon||e(y))))]),_:1},8,["class"])],10,Le)):q("v-if",!0)],2),I("div",{id:e(C),class:m(e(s).e("body"))},[b(a.$slots,"default")],10,De),a.$slots.footer?(k(),z("footer",{key:0,class:m(e(s).e("footer"))},[b(a.$slots,"footer")],2)):q("v-if",!0)],6))}});var Ie=j(Me,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const Re=["aria-label","aria-labelledby","aria-describedby"],Te=T({name:"ElDialog",inheritAttrs:!1}),Fe=T({...Te,props:ce,emits:ue,setup(n,{expose:t}){const l=n,y=ee();V({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},$(()=>!!y.title)),V({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},$(()=>!!l.customClass));const r=ye("dialog"),f=N(),C=N(),s=N(),{visible:p,titleId:E,bodyId:c,style:g,overlayDialogStyle:u,rendered:a,zIndex:v,afterEnter:L,afterLeave:F,beforeLeave:S,handleClose:D,onModalClick:B,onOpenAutoFocus:Y,onCloseAutoFocus:P,onCloseRequested:X,onFocusoutPrevented:A}=me(l,f);oe(H,{dialogRef:f,headerRef:C,bodyId:c,ns:r,rendered:a,style:g});const i=fe(B),M=$(()=>l.draggable&&!l.fullscreen);return t({visible:p,dialogContentRef:s}),(o,d)=>(k(),U(re,{to:"body",disabled:!o.appendToBody},[R(ne,{name:"dialog-fade",onAfterEnter:e(L),onAfterLeave:e(F),onBeforeLeave:e(S),persisted:""},{default:h(()=>[se(R(e(pe),{"custom-mask-event":"",mask:o.modal,"overlay-class":o.modalClass,"z-index":e(v)},{default:h(()=>[I("div",{role:"dialog","aria-modal":"true","aria-label":o.title||void 0,"aria-labelledby":o.title?void 0:e(E),"aria-describedby":e(c),class:m(`${e(r).namespace.value}-overlay-dialog`),style:_(e(u)),onClick:d[0]||(d[0]=(...w)=>e(i).onClick&&e(i).onClick(...w)),onMousedown:d[1]||(d[1]=(...w)=>e(i).onMousedown&&e(i).onMousedown(...w)),onMouseup:d[2]||(d[2]=(...w)=>e(i).onMouseup&&e(i).onMouseup(...w))},[R(e(Ce),{loop:"",trapped:e(p),"focus-start-el":"container",onFocusAfterTrapped:e(Y),onFocusAfterReleased:e(P),onFocusoutPrevented:e(A),onReleaseRequested:e(X)},{default:h(()=>[e(a)?(k(),U(Ie,ae({key:0,ref_key:"dialogContentRef",ref:s},o.$attrs,{"custom-class":o.customClass,center:o.center,"align-center":o.alignCenter,"close-icon":o.closeIcon,draggable:e(M),fullscreen:o.fullscreen,"show-close":o.showClose,title:o.title,"aria-level":o.headerAriaLevel,onClose:e(D)}),le({header:h(()=>[o.$slots.title?b(o.$slots,"title",{key:1}):b(o.$slots,"header",{key:0,close:e(D),titleId:e(E),titleClass:e(r).e("title")})]),default:h(()=>[b(o.$slots,"default")]),_:2},[o.$slots.footer?{name:"footer",fn:h(()=>[b(o.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):q("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,Re)]),_:3},8,["mask","overlay-class","z-index"]),[[te,e(p)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Se=j(Fe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const ze=Ee(Se);export{ze as E};
