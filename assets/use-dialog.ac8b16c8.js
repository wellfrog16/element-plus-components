import{e as I,o as M,p as V,U as E,c as U,j as g,A as $,ap as q,q as G}from"./document.119ae42e.js";import{L as Z,g as c,z as B,G as D,a0 as _,E as j,A as H,aN as x,l as J}from"./app.8c8a4a35.js";import{b as K}from"./index.0ebb197b.js";const Q=I({center:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},closeIcon:{type:M},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),ee={close:()=>!0},le=I({...Q,appendToBody:{type:Boolean,default:!1},beforeClose:{type:V(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),oe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[E]:e=>Z(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},te=(e,n)=>{const o=H().emit,{nextZIndex:v}=U();let p="";const P=g(),T=g(),t=c(!1),f=c(!1),u=c(!1),d=c(e.zIndex||v());let a,s;const A=$("namespace",q),F=B(()=>{const l={},i=`--${A.value}-dialog`;return e.fullscreen||(e.top&&(l[`${i}-margin-top`]=e.top),e.width&&(l[`${i}-width`]=G(e.width))),l}),O=B(()=>e.alignCenter?{display:"flex"}:{});function h(){o("opened")}function S(){o("closed"),o(E,!1),e.destroyOnClose&&(u.value=!1)}function k(){o("close")}function C(){s==null||s(),a==null||a(),e.openDelay&&e.openDelay>0?{stop:a}=x(()=>b(),e.openDelay):b()}function r(){a==null||a(),s==null||s(),e.closeDelay&&e.closeDelay>0?{stop:s}=x(()=>m(),e.closeDelay):m()}function y(){function l(i){i||(f.value=!0,t.value=!1)}e.beforeClose?e.beforeClose(l):r()}function N(){e.closeOnClickModal&&y()}function b(){!J||(t.value=!0)}function m(){t.value=!1}function w(){o("openAutoFocus")}function z(){o("closeAutoFocus")}e.lockScroll&&K(t);function L(){e.closeOnPressEscape&&y()}return D(()=>e.modelValue,l=>{l?(f.value=!1,C(),u.value=!0,d.value=e.zIndex?d.value++:v(),_(()=>{o("open"),n.value&&(n.value.scrollTop=0)})):t.value&&r()}),D(()=>e.fullscreen,l=>{!n.value||(l?(p=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=p)}),j(()=>{e.modelValue&&(t.value=!0,u.value=!0,C())}),{afterEnter:h,afterLeave:S,beforeLeave:k,handleClose:y,onModalClick:N,close:r,doClose:m,onOpenAutoFocus:w,onCloseAutoFocus:z,onCloseRequested:L,titleId:P,bodyId:T,closed:f,style:F,overlayDialogStyle:O,rendered:u,visible:t,zIndex:d}};export{ee as a,le as b,oe as c,Q as d,te as u};
