import{d as I,x as V,y as _,U as E,p as $,i as B,A as q,aq as Z,n as G}from"./document.f7ed7038.js";import{L as H,g as c,E as D,J as x,a4 as J,K,H as j,aP as P,m as Q}from"./app.8dd14888.js";import{a as W}from"./use-global-config.ea394ac6.js";import{b as X}from"./index.c70b3b25.js";const Y=I({center:Boolean,alignCenter:Boolean,closeIcon:{type:V},customClass:{type:String,default:""},draggable:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),te={close:()=>!0},ae=I({...Y,appendToBody:Boolean,beforeClose:{type:_(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),se={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[E]:e=>H(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},ue=(e,a)=>{var m;const l=j().emit,{nextZIndex:C}=$();let p="";const F=B(),S=B(),n=c(!1),d=c(!1),i=c(!1),r=c((m=e.zIndex)!=null?m:C());let s,u;const T=W("namespace",G),h=D(()=>{const o={},t=`--${T.value}-dialog`;return e.fullscreen||(e.top&&(o[`${t}-margin-top`]=e.top),e.width&&(o[`${t}-width`]=q(e.width))),o}),A=D(()=>e.alignCenter?{display:"flex"}:{});function O(){l("opened")}function k(){l("closed"),l(E,!1),e.destroyOnClose&&(i.value=!1)}function L(){l("close")}function g(){u==null||u(),s==null||s(),e.openDelay&&e.openDelay>0?{stop:s}=P(()=>b(),e.openDelay):b()}function f(){s==null||s(),u==null||u(),e.closeDelay&&e.closeDelay>0?{stop:u}=P(()=>v(),e.closeDelay):v()}function y(){function o(t){t||(d.value=!0,n.value=!1)}e.beforeClose?e.beforeClose(o):f()}function w(){e.closeOnClickModal&&y()}function b(){!Q||(n.value=!0)}function v(){n.value=!1}function N(){l("openAutoFocus")}function M(){l("closeAutoFocus")}function z(o){var t;((t=o.detail)==null?void 0:t.focusReason)==="pointer"&&o.preventDefault()}e.lockScroll&&X(n);function U(){e.closeOnPressEscape&&y()}return x(()=>e.modelValue,o=>{o?(d.value=!1,g(),i.value=!0,r.value=Z(e.zIndex)?C():r.value++,J(()=>{l("open"),a.value&&(a.value.scrollTop=0)})):n.value&&f()}),x(()=>e.fullscreen,o=>{!a.value||(o?(p=a.value.style.transform,a.value.style.transform=""):a.value.style.transform=p)}),K(()=>{e.modelValue&&(n.value=!0,i.value=!0,g())}),{afterEnter:O,afterLeave:k,beforeLeave:L,handleClose:y,onModalClick:w,close:f,doClose:v,onOpenAutoFocus:N,onCloseAutoFocus:M,onCloseRequested:U,onFocusoutPrevented:z,titleId:F,bodyId:S,closed:d,style:h,overlayDialogStyle:A,rendered:i,visible:n,zIndex:r}};export{te as a,ae as b,se as c,Y as d,ue as u};
