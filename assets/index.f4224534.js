import{f as _,g,B as y,H as k,V as D,u as i,at as x,o as C,h as b,as as w,w as $,P as h,Q as B,D as E,a4 as I,a0 as v,_ as H}from"./app.a3d32ab8.js";import{E as T}from"./index.b7a0dde8.js";import{N as M}from"./document.e6cb366c.js";const N=_({__name:"index",props:{modelValue:{type:String,default:""},formatValue:{type:String,default:""},option:{type:Object,default:()=>({decimalScale:2,integerScale:12})},padDecimal:{type:Boolean,default:!0}},emits:["update:modelValue","update:formatValue","change"],setup(c,{emit:l}){const t=c,r=e=>{let a=e.replace(/[^\d\.]/g,"").replace(/^0(\d{1,}\.?)+?/,"$1").replace(/^\./,"").replace(/\.{1,}/g,".");const o=a.split(".");if(o.length>1){const[s,u]=o;a=`${s}.${u}`}return a},d=e=>{if(t.padDecimal&&t.option.decimalScale>0&&e!==t.option.prefix){const[a,o=""]=e.split(".");return`${a}.${o.padEnd(t.option.decimalScale,"0")}`}return e},m=()=>{const{modelValue:e}=t,a=t.option.prefix||"";if(e==="")return l("update:formatValue",a),a;const o=e.toString().charAt(e.length-1)==="."?".":"",s=a+(+r(t.modelValue)).toLocaleString("en-US")+o,u=d(s);return l("update:formatValue",u),s},f=g(),n=y({get:()=>m(),set:e=>{l("update:modelValue",r(e))}}),V=e=>{const a=r(e).replace(/\.$/,"");n.value=a,l("change",[a,d(e).replace(/\.$/,"")])},p=g(!0),S=y(()=>({...t.option,padDecimal:t.padDecimal}));return k(S,(e,a)=>{M(e,a)||(p.value=!1,v(()=>{p.value=!0,setTimeout(()=>{n.value=f.value.input.value,v(()=>{V(m())})},100)}))}),(e,a)=>p.value?D((C(),b(i(T),B({key:0,ref_key:"elInput",ref:f,modelValue:i(n),"onUpdate:modelValue":a[0]||(a[0]=o=>E(n)?n.value=o:null)},e.$attrs,{class:e.$style.main,onChange:V}),w({_:2},[e.$slots.prepend?{name:"prepend",fn:$(()=>[h(e.$slots,"prepend")]),key:"0"}:void 0,e.$slots.append?{name:"append",fn:$(()=>[h(e.$slots,"append")]),key:"1"}:void 0]),1040,["modelValue","class"])),[[i(x),c.option]]):I("v-if",!0)}}),P="_main_m3b07_1",U={main:P},j={$style:U},O=H(N,[["__cssModules",j],["__file","index.vue"]]);export{O as H};
