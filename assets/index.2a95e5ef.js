import{H as _}from"./index.86536585.js";import{f as k,g as V,B as g,H as D,V as x,u as y,au as C,o as H,h as b,at as w,w as $,P as h,Q as B,D as I,a4 as T,a0 as S,_ as E}from"./app.102c0a36.js";import{N as M}from"./document.d036075a.js";const N=k({__name:"index",props:{modelValue:{type:String,default:""},formatValue:{type:String,default:""},option:{type:Object,default:()=>({decimalScale:2,integerScale:12})},padDecimal:{type:Boolean,default:!0}},emits:["update:modelValue","update:formatValue","change"],setup(i,{emit:l}){const o=i,r=e=>{if(e===""||e===void 0)return"";console.log(e);let a=e.replace(/[^\d\.]/g,"").replace(/^0(\d{1,}\.?)+?/,"$1").replace(/^\./,"").replace(/\.{1,}/g,".");const t=a.split(".");if(t.length>1){const[s,p]=t;a=`${s}.${p}`}return a},c=e=>{if(o.padDecimal&&o.option.decimalScale>0&&e!==o.option.prefix){const[a,t=""]=e.split(".");return`${a}.${t.padEnd(o.option.decimalScale,"0")}`}return e},d=()=>{const{modelValue:e}=o,a=o.option.prefix||"";if(e==="")return l("update:formatValue",a),a;const t=e.toString().charAt(e.length-1)==="."?".":"",s=a+(+r(o.modelValue)).toLocaleString("en-US")+t,p=c(s);return l("update:formatValue",p),s},m=V(),n=g({get:()=>d(),set:e=>{l("update:modelValue",r(e))}}),f=e=>{const a=r(e).replace(/\.$/,"");n.value=a,l("change",[a,c(e).replace(/\.$/,"")])},u=V(!0),v=g(()=>({...o.option,padDecimal:o.padDecimal}));return D(v,(e,a)=>{M(e,a)||(u.value=!1,S(()=>{u.value=!0,setTimeout(()=>{var t;n.value=(t=m.value.input)==null?void 0:t.value,S(()=>{f(d())})},100)}))}),(e,a)=>u.value?x((H(),b(_,B({key:0,ref_key:"elInput",ref:m,modelValue:y(n),"onUpdate:modelValue":a[0]||(a[0]=t=>I(n)?n.value=t:null)},e.$attrs,{class:e.$style.main,onChange:f}),w({_:2},[e.$slots.prepend?{name:"prepend",fn:$(()=>[h(e.$slots,"prepend")]),key:"0"}:void 0,e.$slots.append?{name:"append",fn:$(()=>[h(e.$slots,"append")]),key:"1"}:void 0]),1040,["modelValue","class"])),[[y(C),i.option]]):T("v-if",!0)}}),P="_main_m3b07_1",U={main:P},j={$style:U},O=E(N,[["__cssModules",j],["__file","index.vue"]]);export{O as H};
